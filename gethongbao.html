<html lang="zh-TW">
<head>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="expires" content="Sun, 01 Jan 2014 00:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="description" content="KASPA - WASM Wallet">
    <meta name="keywords" content="KASPA - WASM Wallet" />
    <title>KASPA - WASM Wallet</title>
        <style>
            body {
                margin: 0px;
                padding: 32px;
                font-size: 16px;
                font-family: "Consolas", "Andale Mono", monospace;
            }
            a {
                color: rgb(0, 156, 117);
                text-decoration: none;
            }
            a:hover {
                color: rgb(8, 115, 88);
            }
            code {
                color: rgb(30, 94, 184);
                font-size: inherit;
                font-family: inherit;
            }
            li {
                white-space: pre;
            }
            .banner {
                opacity: 0.75;
                position:fixed;
                right: 32px;
                top: 32px;
            }
            label {
                padding-right: 10px;
                font-size: 1rem;
            }
        </style>
</head>
    <body>
        <script src="https://cdn.rawgit.com/mozilla/localForage/master/dist/localforage.js"></script><!-- 使用indexDB -->
        
        <div class="" style="font-size: 18px;display: flex; flex-direction: column; justify-content: flex-start; gap: 8px; margin-top: 5px;align-items: center;color: rgb(255, 123, 33);">
            <span id="pp">Sending, please wait!</span><br><progress id="pr" value="0" max="100">0 %</progress>
        </div>
                
        <script src="./js/ktip.js"></script>
        <script type="module">
            import * as kaspa from './kaspa/kaspa.js';
            function _0x5589(){const _0x41a9a9=['16xWUZNO','searchParams','scriptPublicKey','/test/','warning','RPCinfo','signatureScript','OpCheckSig','toString','fillInput','now','wss://dochat.dopay.biz/mainnet','get','sign','worknet','Txid:','0.5','feerate','default','./login.html?&worknet=mainnet&test=','&TICKER=','2065920ZJTLvM','parse','wss://eu-1.kaspa-ng.org/testnet-11','blockDaaScore','undefined','state','other9','charCodeAt','index.html','encodePayToScriptHashSignatureScript','getItem','createPayToScriptHashScript','encrypt','then','740ptOwsi','Pkcs7','182046gtcnqN','https://explorer.kaspa.org/txs/','href','OpEndIf','decrypt','0.12','ErrOK','&MyAddress=','search','addOp','aid','ErrBB','0.0001','success','...','TransferERR','wait','enc','SendHongbaoOK','estimate','RevealTx:','178211iBkVhp','Connected\x20to','Mainnetnode','XPublicKey','kasplex','substr','getServerInfo','addI64','&worknet=','6900XBHqwp','krc-20','&test=','112446amoKwv','</strong>','204IsbXYK','addData','text','replaceState','stateObj','text/plain;charset=utf-8','gethongbao.html?gid=','value','log','other8','&Memo=','OpFalse','getUtxosByAddresses','<br>was\x20Error\x20sent\x20to\x20','MYPS_KEY','priorityBucket','&GetCode=','5457PwMTDR','transaction','isConfirmed','https://kasshop.dopay.biz/kmint3_bot/zapi.php?pr=TGetHongbaoG','push','<strong>','\x20-\x20KTIP\x20P2SH\x20CommTx:','entries','MyAddress10','fire','lange','MyAddress','ktip','310RMXpvD','&Txid=','\x20返回錯誤','MD5','submit','getFeeEstimate','ErrCC','toXOnlyPublicKey','&SendQt=','GetHONGBAO','before\x20proceeding\x20with\x20the\x20demo','<a\x20href=\x22','./index.html?worknet=','Please\x20wait\x20for\x20the\x20node\x20to\x20sync','7UzERjM','toPublicKey','<strong>KTIP20\x20','YuXprv','null','amount','error','pad','round','\x20kas<br>','<br><br>','getElementById','createInputSignature','other7','transfer','origin','replace','kaspa:qp7ylc9j3sxw7ntgupydnjpgr8wtlet3276aws4qvylz97qa3v2hcak6n92ea','113130dPmvnF','NO:\x20','inputs','outputs','stringify','AES','Mainnet','normalBuckets','</a>','./kaspa/kaspa_bg.wasm','in\x20the\x20mempool','./index.html?startapp=command&mode=compact&worknet=','toAddress','COTX2','<br>','url','connect','ErrAA','other16','location','<strong>KRC20\x20','disconnect','\x22\x20target=\x22_blank\x22>','EPSILON','page\x203','length','Error:'];_0x5589=function(){return _0x41a9a9;};return _0x5589();}const _0xb7defd=_0x33df;(function(_0x2a22c2,_0x14d24c){const _0x12207d=_0x33df,_0x59b23b=_0x2a22c2();while(!![]){try{const _0x2cf6d6=parseInt(_0x12207d(0x23d))/0x1+-parseInt(_0x12207d(0x25d))/0x2*(parseInt(_0x12207d(0x250))/0x3)+parseInt(_0x12207d(0x23a))/0x4*(parseInt(_0x12207d(0x21a))/0x5)+-parseInt(_0x12207d(0x21c))/0x6*(parseInt(_0x12207d(0x1ca))/0x7)+-parseInt(_0x12207d(0x1f7))/0x8*(-parseInt(_0x12207d(0x1dc))/0x9)+-parseInt(_0x12207d(0x20c))/0xa+parseInt(_0x12207d(0x231))/0xb*(parseInt(_0x12207d(0x23f))/0xc);if(_0x2cf6d6===_0x14d24c)break;else _0x59b23b['push'](_0x59b23b['shift']());}catch(_0x5db1f6){_0x59b23b['push'](_0x59b23b['shift']());}}}(_0x5589,0x247b1));function _0x33df(_0x1a283,_0x3c4f43){const _0x55891a=_0x5589();return _0x33df=function(_0x33df4e,_0xfb74d1){_0x33df4e=_0x33df4e-0x1bf;let _0x30b477=_0x55891a[_0x33df4e];return _0x30b477;},_0x33df(_0x1a283,_0x3c4f43);}const MYPS_KEY=_0xb7defd(0x24d);function md5(_0x25249b){const _0x5ab9ae=_0xb7defd;return CryptoJS[_0x5ab9ae(0x1bf)](_0x25249b)[_0x5ab9ae(0x1ff)]();}function parseKey(_0x55a380){return CryptoJS['enc']['Utf8']['parse'](_0x55a380);}function encrypt(_0x3e3e29,_0x122866,_0x21a2ad,_0x5b1b56=null){const _0x34b079=_0xb7defd,_0x3d38d9=parseKey(_0x21a2ad),_0x21dd7d=parseKey(_0x5b1b56);return CryptoJS['AES'][_0x34b079(0x218)](_0x122866,_0x3d38d9,{'iv':_0x21dd7d,'mode':_0x3e3e29,'padding':CryptoJS[_0x34b079(0x1d1)][_0x34b079(0x21b)]})['toString']();}function decrypt(_0x5f25f6,_0x563ea2,_0xca227,_0x1ab9a1=null){const _0x3403f2=_0xb7defd,_0x2d4422=parseKey(_0xca227),_0x4c301f=parseKey(_0x1ab9a1);let _0x122b24=CryptoJS[_0x3403f2(0x1e1)][_0x3403f2(0x220)](_0x563ea2,_0x2d4422,{'iv':_0x4c301f,'mode':_0x5f25f6,'padding':CryptoJS[_0x3403f2(0x1d1)][_0x3403f2(0x21b)]});return _0x122b24['toString'](CryptoJS[_0x3403f2(0x22d)]['Utf8']);}let {PublicKeyGenerator,createAddress,NetworkType,Mnemonic,XPrv,Mnemonic2,PrivateKeyGenerator,PrivateKey,myaddress,krcaddress,RpcClient,encoding,networkId,mmecho,isScriptPayToPubkey,signScriptHash,payToScriptHashScript,Address,createTransaction,signTransaction,submitTransaction,Resolver,ScriptBuilder,Opcodes,addressFromScriptPublicKey,createTransactions,kaspaToSompi,util,createPayToScriptHashScript,OKQT,RPC,hashRe,explorer2}=kaspa;window[_0xb7defd(0x234)]=PublicKeyGenerator,((async()=>{const _0x14ff42=_0xb7defd;var _0x123f18=location[_0x14ff42(0x21e)],_0x45d9e4=new URL(_0x123f18),_0x219f66=_0x45d9e4[_0x14ff42(0x1f8)][_0x14ff42(0x203)](_0x14ff42(0x205));let _0x4a3a10=_0x45d9e4[_0x14ff42(0x1f8)][_0x14ff42(0x203)]('GetCode'),_0xb51ad7=await localStorage[_0x14ff42(0x216)](_0x14ff42(0x25a)),_0x22b49f=JSON[_0x14ff42(0x20d)](_0xb51ad7),_0x3e5d98=_0x45d9e4[_0x14ff42(0x1f8)][_0x14ff42(0x203)]('pr');document['getElementById']('pp')['innerHTML']=_0x22b49f[_0x14ff42(0x22c)];let _0x23bc5f='';mmecho='{';const _0x52c89c=await kaspa[_0x14ff42(0x209)](_0x14ff42(0x1e5));networkId=''?networkId:'Mainnet';if(_0x219f66=='testnet-10'){explorer2='https://explorer-tn10.kaspa.org/txs/',networkId='testnet-10';let _0x30860e=localStorage['getItem']('Testnetnode');RPC=_0x30860e,_0x23bc5f='kaspatest:qp7ylc9j3sxw7ntgupydnjpgr8wtlet3276aws4qvylz97qa3v2hcusug25ge';}else _0x219f66=='testnet-11'?(networkId='testnet-11',RPC=_0x14ff42(0x20e)):(explorer2=_0x14ff42(0x21d),networkId=_0x14ff42(0x1e2),RPC=localStorage[_0x14ff42(0x216)](_0x14ff42(0x233)),_0x23bc5f=_0x14ff42(0x1db));if(_0x219f66=='testnet-10')var _0x5da87b=localStorage['getItem'](_0x14ff42(0x258));else var _0x5da87b=localStorage[_0x14ff42(0x216)](_0x14ff42(0x25b));if(typeof _0x5da87b!==_0x14ff42(0x210)&&_0x5da87b!==null&&_0x5da87b!==_0x14ff42(0x1ce)&&_0x5da87b!==''){}else Swal['fire']({'icon':_0x14ff42(0x229),'title':'<strong>KTIP20\x20'+_0x22b49f[_0x14ff42(0x1c5)]+_0x14ff42(0x23e),'html':''+_0x22b49f[_0x14ff42(0x1ee)]})[_0x14ff42(0x219)](_0x27f6a9=>{const _0x5cb447=_0x14ff42;_0x27f6a9[_0x5cb447(0x252)]&&(history[_0x5cb447(0x242)](_0x5cb447(0x243),_0x5cb447(0x1f4),_0x5cb447(0x214)),window[_0x5cb447(0x1ef)][_0x5cb447(0x21e)]=_0x5cb447(0x20a)+Date[_0x5cb447(0x201)]()[_0x5cb447(0x1ff)]());});let _0x25488b=_0x14ff42(0x253)+_0x14ff42(0x223)+_0x5da87b+_0x14ff42(0x24f)+_0x4a3a10+_0x14ff42(0x239)+_0x219f66;fetch(_0x25488b)[_0x14ff42(0x219)](_0x36f01a=>_0x36f01a[_0x14ff42(0x241)]())[_0x14ff42(0x219)](_0xd4cf94=>{const _0x389344=_0x14ff42;var _0x44829c=JSON['parse'](_0xd4cf94);console[_0x389344(0x247)]('TGetHongbaoG-ktip',_0x44829c);if(_0x44829c[_0x389344(0x229)])Swal[_0x389344(0x259)]({'icon':'success','title':'<strong>KTIP20\x20'+_0x22b49f['GetHONGBAO']+_0x389344(0x23e),'html':_0x389344(0x1dd)+_0x4a3a10+'<br>Memo:'+_0x44829c['memo']+_0x389344(0x1d4)+_0x22b49f[_0x389344(0x222)]+','+_0x44829c[_0x389344(0x1cf)]+_0x389344(0x1d3)+_0x44829c[_0x389344(0x1e9)]})[_0x389344(0x219)](_0x498510=>{const _0x1fbd9d=_0x389344;_0x498510['isConfirmed']&&(history[_0x1fbd9d(0x242)]('stateObj',_0x1fbd9d(0x1f4),_0x1fbd9d(0x214)),window['location'][_0x1fbd9d(0x21e)]=_0x1fbd9d(0x1e7)+_0x219f66+_0x1fbd9d(0x23c)+Date[_0x1fbd9d(0x201)]()['toString']());});else{console[_0x389344(0x247)]('\x20返回錯誤');let _0x5f4518='';if(_0x44829c[_0x389344(0x211)]['substr'](0x0,0x2)=='AA')_0x5f4518=_0x22b49f[_0x389344(0x1ed)];else _0x44829c['state'][_0x389344(0x236)](0x0,0x2)=='BB'?_0x5f4518=_0x22b49f[_0x389344(0x227)]:_0x5f4518=_0x22b49f[_0x389344(0x1c2)];Swal['fire']({'icon':_0x389344(0x1d0),'title':_0x389344(0x1cc)+_0x22b49f[_0x389344(0x1c5)]+_0x389344(0x23e),'html':''+_0x5f4518})[_0x389344(0x219)](_0x591460=>{const _0x435760=_0x389344;_0x591460[_0x435760(0x252)]&&(history['replaceState'](_0x435760(0x243),_0x435760(0x1f4),'index.html'),window['location'][_0x435760(0x21e)]=_0x435760(0x1e7)+_0x219f66+_0x435760(0x23c)+Date[_0x435760(0x201)]()[_0x435760(0x1ff)]());});}});})());function convertToHex(_0x33bad8){const _0x1f8d69=_0xb7defd;var _0x3b3b87='';for(var _0x2724bc=0x0;_0x2724bc<_0x33bad8[_0x1f8d69(0x1f5)];_0x2724bc++){_0x3b3b87+=''+_0x33bad8[_0x1f8d69(0x213)](_0x2724bc)['toString'](0x10);}return _0x3b3b87;}async function GetHbKtip(_0x1e6cd3,_0x385771,_0x290152,_0x456309,_0x1be21c,_0x495cb5){const _0x3f231c=_0xb7defd;document[_0x3f231c(0x1d5)]('pr')[_0x3f231c(0x246)]=0xa;const _0x3bfa6b=new RpcClient({'url':_0x1e6cd3,'encoding':encoding,'networkId':networkId});await _0x3bfa6b[_0x3f231c(0x1ec)]();let {isSynced:_0x78d7bd}=await _0x3bfa6b[_0x3f231c(0x237)]();if(!_0x78d7bd){console['error']('Please\x20wait\x20for\x20the\x20node\x20to\x20sync'),await _0x3bfa6b[_0x3f231c(0x1f1)]();return;}let _0x556348=await _0x3bfa6b[_0x3f231c(0x1c1)]({}),_0x1a5977=_0x556348[_0x3f231c(0x22f)][_0x3f231c(0x1e3)][0x1][_0x3f231c(0x208)]*(0xce4/0x5f5e100),_0x3d266c=_0x556348[_0x3f231c(0x22f)]['normalBuckets'][0x0][_0x3f231c(0x208)]*(0xce4/0x5f5e100),_0x506609=_0x556348[_0x3f231c(0x22f)][_0x3f231c(0x24e)][_0x3f231c(0x208)]*(0xce4/0x5f5e100);_0x1a5977=Math[_0x3f231c(0x1d2)]((_0x1a5977+Number['EPSILON'])*0x989680)/0x989680,_0x3d266c=Math['round']((_0x3d266c+Number[_0x3f231c(0x1f3)])*0x989680)/0x989680,_0x506609=Math[_0x3f231c(0x1d2)]((_0x506609+Number[_0x3f231c(0x1f3)])*0x989680)/0x989680,_0x3d266c=_0x3d266c+0.0001;if(_0x3d266c<0.01){var _0x397d7b=_0x385771[_0x3f231c(0x1cd)],_0x599845=new PrivateKey(_0x397d7b);const _0x56893f=_0x599845[_0x3f231c(0x1cb)](),_0x285653=_0x56893f['toAddress'](networkId),_0x3f12e6={'op':_0x3f231c(0x1d8),'tick':TICKER,'amount':THB_TAMOUNT,'to':_0x1be21c,'memo':Memo},_0x2e3c49=new ScriptBuilder()['addData'](_0x56893f[_0x3f231c(0x1c3)]()['toString']())[_0x3f231c(0x225)](Opcodes[_0x3f231c(0x1fe)])['addOp'](Opcodes[_0x3f231c(0x24a)])[_0x3f231c(0x225)](Opcodes['OpIf'])[_0x3f231c(0x240)](convertToHex(_0x3f231c(0x25c)))[_0x3f231c(0x238)](0x0n)[_0x3f231c(0x240)](convertToHex(JSON['stringify'](_0x3f12e6,null,0x0)))[_0x3f231c(0x225)](Opcodes['OpEndIf']),{entries:_0x2edd2b}=await _0x3bfa6b['getUtxosByAddresses']({'addresses':[_0x285653['toString']()]});let _0x2758be=_0x2edd2b,_0x51dff9=kaspaToSompi(_0x3f231c(0x207)),_0x5610e0=kaspaToSompi('0'),_0x2d0ac8=[];await sleep(0xc8);for(var _0x12f943=0x0;_0x12f943<_0x2758be[_0x3f231c(0x1f5)];_0x12f943++){if(_0x51dff9>_0x5610e0)_0x2d0ac8[_0x3f231c(0x254)](_0x2758be[_0x12f943]),_0x5610e0=_0x2758be[_0x12f943][_0x3f231c(0x1cf)];else break;}const {transactions:_0x381b42}=await createTransactions({'priorityEntries':[],'entries':_0x2d0ac8,'outputs':[{'address':_0x285653[_0x3f231c(0x1ff)](),'amount':kaspaToSompi(_0x3f231c(0x221))}],'changeAddress':_0x285653[_0x3f231c(0x1ff)](),'priorityFee':kaspaToSompi(_0x3d266c[_0x3f231c(0x1ff)]()),'payload':_0x2e3c49['toString'](),'networkId':networkId});let _0x1a8937,_0x5185b9;document[_0x3f231c(0x1d5)]('pr')[_0x3f231c(0x246)]=0x1e;try{for(const _0x3f2a26 of _0x381b42){_0x3f2a26[_0x3f231c(0x204)]([_0x599845]),_0x1a8937=await _0x3f2a26[_0x3f231c(0x1c0)](_0x3bfa6b),console[_0x3f231c(0x247)](_0x3f231c(0x256),_0x1a8937),await sleep(0x7d0);if(_0x1a8937['length']==0x40){let _0x251e34='https://kasshop.dopay.biz/kmint3_bot/zapi.php?pr=THongbao'+'&SendAddress='+_0x285653[_0x3f231c(0x1ff)]()+_0x3f231c(0x20b)+TICKER+'&SendAmount='+THB_TAMOUNT+_0x3f231c(0x1c4)+THB_TQT+_0x3f231c(0x249)+Memo+_0x3f231c(0x25e)+_0x1a8937;fetch(_0x251e34)[_0x3f231c(0x219)](_0x3b246d=>_0x3b246d[_0x3f231c(0x241)]())[_0x3f231c(0x219)](_0x1bd889=>{const _0x2147fc=_0x3f231c;var _0x54d3f8=JSON[_0x2147fc(0x20d)](_0x1bd889);if(_0x54d3f8['success']){let _0x1996bb=_0x2147fc(0x206)+_0x1a8937['substr'](0x0,0x4)+'...'+_0x1a8937['substr'](-0x4,0x4),_0x1d1dde=_0x2147fc(0x1c7)+explorer2+_0x1a8937+_0x2147fc(0x1f2)+_0x1996bb+_0x2147fc(0x1e4),_0xb753e7='';location['origin']=='https://kaswasm.dopay.biz'?_0xb753e7=location[_0x2147fc(0x1d9)]+_0x2147fc(0x1fa)+_0x2147fc(0x245)+_0x54d3f8[_0x2147fc(0x226)]:_0xb753e7=location[_0x2147fc(0x1d9)]+'/'+_0x2147fc(0x245)+_0x54d3f8[_0x2147fc(0x226)];let _0x28be20=_0x2147fc(0x1c7)+_0xb753e7+_0x2147fc(0x1f2)+_0x54d3f8[_0x2147fc(0x226)]+_0x2147fc(0x1e4);Swal[_0x2147fc(0x259)]({'icon':_0x2147fc(0x229),'title':_0x2147fc(0x1cc)+_0x456309[_0x2147fc(0x22e)]+_0x2147fc(0x23e),'html':_0x1d1dde+'<br>'+_0x28be20+'<br><br>'+_0xb753e7})[_0x2147fc(0x219)](_0x1d9488=>{const _0xd9f285=_0x2147fc;_0x1d9488[_0xd9f285(0x252)]&&(history[_0xd9f285(0x242)](_0xd9f285(0x243),_0xd9f285(0x1f4),_0xd9f285(0x214)),window[_0xd9f285(0x1ef)][_0xd9f285(0x21e)]=_0xd9f285(0x1e7)+_0x290152+_0xd9f285(0x23c)+Date[_0xd9f285(0x201)]()[_0xd9f285(0x1ff)]());});}else console[_0x2147fc(0x247)](_0x2147fc(0x25f));});}else Swal[_0x3f231c(0x259)]({'icon':_0x3f231c(0x1d0),'title':_0x3f231c(0x1f0)+_0x456309[_0x3f231c(0x22b)]+'</strong>','html':THB_TAMOUNT[_0x3f231c(0x1ff)]()+'\x20'+TICKER+_0x3f231c(0x24c)+_0x1be21c+_0x3f231c(0x1ea)+_0x456309[_0x3f231c(0x1d7)]})[_0x3f231c(0x219)](_0x58cbfc=>{const _0x5b1c58=_0x3f231c;_0x58cbfc[_0x5b1c58(0x252)]&&(history[_0x5b1c58(0x242)](_0x5b1c58(0x243),_0x5b1c58(0x1f4),'index.html'),window['location'][_0x5b1c58(0x21e)]=_0x5b1c58(0x1e7)+_0x290152+'&test='+Date[_0x5b1c58(0x201)]()[_0x5b1c58(0x1ff)]());});}}catch(_0x51f4a6){_0x51f4a6['search'](_0x3f231c(0x1e6))>0x0?Swal[_0x3f231c(0x259)]({'icon':_0x3f231c(0x1fb),'title':'<strong>'+_0x456309['other9']+'</strong>'})['then'](_0x5c4d09=>{const _0x2394e8=_0x3f231c;_0x5c4d09[_0x2394e8(0x252)]&&(history['replaceState'](_0x2394e8(0x243),'page\x203',_0x2394e8(0x214)),window['location']['href']=_0x2394e8(0x1e7)+_0x290152+'&test='+Date[_0x2394e8(0x201)]()[_0x2394e8(0x1ff)]());}):Swal[_0x3f231c(0x259)]({'icon':_0x3f231c(0x1fb),'title':_0x3f231c(0x255)+_0x456309[_0x3f231c(0x248)]+_0x3f231c(0x23e),'html':''+_0x51f4a6})['then'](_0x3f83cb=>{const _0x5b4190=_0x3f231c;_0x3f83cb[_0x5b4190(0x252)]&&(history[_0x5b4190(0x242)](_0x5b4190(0x243),_0x5b4190(0x1f4),_0x5b4190(0x214)),window[_0x5b4190(0x1ef)][_0x5b4190(0x21e)]=_0x5b4190(0x1e7)+_0x290152+_0x5b4190(0x23c)+Date[_0x5b4190(0x201)]()['toString']());});}}else Swal[_0x3f231c(0x259)]({'icon':_0x3f231c(0x1fb),'title':_0x3f231c(0x255)+_0x456309[_0x3f231c(0x248)]+'</strong>','html':''+error})[_0x3f231c(0x219)](_0x59c7f4=>{const _0x4cab26=_0x3f231c;_0x59c7f4[_0x4cab26(0x252)]&&(history[_0x4cab26(0x242)](_0x4cab26(0x243),_0x4cab26(0x1f4),'index.html'),window['location'][_0x4cab26(0x21e)]=_0x4cab26(0x1e7)+_0x290152+_0x4cab26(0x23c)+Date[_0x4cab26(0x201)]()[_0x4cab26(0x1ff)]());});}async function TransToken(_0x52317f,_0x281b98,_0x1d1871,_0x2ee0ba,_0x4aca84,_0x1482f5,_0xc7cfd0,_0xfa15e3){const _0x3789f9=_0xb7defd;document[_0x3789f9(0x1d5)]('pr')[_0x3789f9(0x246)]=0xa;const _0x1e3dc6=new RpcClient({'url':_0x52317f,'encoding':encoding,'networkId':networkId});await _0x1e3dc6[_0x3789f9(0x1ec)](),console[_0x3789f9(0x247)](_0x3789f9(0x232),_0x1e3dc6['url']);let {isSynced:_0x301862}=await _0x1e3dc6['getServerInfo']();if(!_0x301862){console[_0x3789f9(0x1d0)]('Please\x20wait\x20for\x20the\x20node\x20to\x20sync'),await _0x1e3dc6[_0x3789f9(0x1f1)]();return;}try{let _0x4eb945=new Address(_0x2ee0ba);}catch(_0x455be3){alert('收款方錯誤!請檢查收款地址!'),window[_0x3789f9(0x1ef)][_0x3789f9(0x21e)]=_0x3789f9(0x1c8)+_0xc7cfd0;}let _0x305191=await _0x1e3dc6[_0x3789f9(0x1c1)]({});console[_0x3789f9(0x247)](_0x3789f9(0x1fc),_0x305191,_0x305191[_0x3789f9(0x22f)][_0x3789f9(0x24e)]['feerate']);let _0x11893d=_0x305191[_0x3789f9(0x22f)][_0x3789f9(0x1e3)][0x1][_0x3789f9(0x208)]*(0xce4/0x5f5e100),_0x589f93=_0x305191[_0x3789f9(0x22f)][_0x3789f9(0x1e3)][0x0][_0x3789f9(0x208)]*(0xce4/0x5f5e100),_0x37849d=_0x305191[_0x3789f9(0x22f)][_0x3789f9(0x24e)][_0x3789f9(0x208)]*(0xce4/0x5f5e100);_0x11893d=Math[_0x3789f9(0x1d2)]((_0x11893d+Number[_0x3789f9(0x1f3)])*0x989680)/0x989680,_0x589f93=Math[_0x3789f9(0x1d2)]((_0x589f93+Number[_0x3789f9(0x1f3)])*0x989680)/0x989680,_0x37849d=Math[_0x3789f9(0x1d2)]((_0x37849d+Number['EPSILON'])*0x989680)/0x989680,_0x589f93=_0x3789f9(0x228);var _0x5671aa=_0x1482f5[_0x3789f9(0x1cd)],_0x495081=new PrivateKey(_0x5671aa);const _0x12de89=_0x495081['toPublicKey'](),_0x36afae=_0x12de89[_0x3789f9(0x1e8)](networkId),_0x2dc89a={'p':_0x3789f9(0x23b),'op':_0x3789f9(0x1d8),'tick':_0x281b98,'amt':_0x4aca84,'to':_0x2ee0ba,'from':_0x36afae[_0x3789f9(0x1ff)]()},_0x5037cb=new ScriptBuilder()['addData'](_0x12de89[_0x3789f9(0x1c3)]()['toString']())[_0x3789f9(0x225)](Opcodes['OpCheckSig'])['addOp'](Opcodes[_0x3789f9(0x24a)])[_0x3789f9(0x225)](Opcodes['OpIf'])[_0x3789f9(0x240)](convertToHex(_0x3789f9(0x235)))[_0x3789f9(0x238)](0x1n)[_0x3789f9(0x240)](convertToHex(_0x3789f9(0x244)))[_0x3789f9(0x238)](0x0n)['addData'](convertToHex(JSON[_0x3789f9(0x1e0)](_0x2dc89a,null,0x0)))[_0x3789f9(0x225)](Opcodes[_0x3789f9(0x21f)]),_0x433147=addressFromScriptPublicKey(_0x5037cb[_0x3789f9(0x217)](),networkId),{entries:_0x100d24}=await _0x1e3dc6[_0x3789f9(0x24b)]({'addresses':[_0x36afae['toString']()]}),{transactions:_0x5b217d}=await createTransactions({'priorityEntries':[],'entries':_0x100d24,'outputs':[{'address':_0x433147['toString'](),'amount':kaspaToSompi('2')}],'changeAddress':_0x36afae[_0x3789f9(0x1ff)](),'priorityFee':kaspaToSompi(_0x589f93[_0x3789f9(0x1ff)]()),'networkId':networkId});let _0x470695,_0x316171;document[_0x3789f9(0x1d5)]('pr')['value']=0x1e;try{for(const _0x173c51 of _0x5b217d){_0x173c51[_0x3789f9(0x204)]([_0x495081]),_0x470695=await _0x173c51[_0x3789f9(0x1c0)](_0x1e3dc6),console[_0x3789f9(0x247)]('submitted\x20P2SH\x20commit\x20sequence\x20transaction\x20on:',_0x470695),document[_0x3789f9(0x1d5)]('pr')[_0x3789f9(0x246)]=0x3c,await sleep(0x7d0);const {entries:_0x13ce01}=await _0x1e3dc6[_0x3789f9(0x24b)]({'addresses':[_0x36afae['toString']()]});let _0x2469f2={'entries':[{'entry':{'address':new Address(_0x433147['toString']()),'outpoint':{'transactionId':_0x470695,'index':0x0},'amount':_0x173c51['transaction']['outputs'][0x0][_0x3789f9(0x246)],'scriptPublicKey':{'version':0x0,'script':_0x173c51[_0x3789f9(0x251)][_0x3789f9(0x1df)][0x0][_0x3789f9(0x1f9)]['script']},'blockDaaScore':_0x13ce01[0x0][_0x3789f9(0x20f)],'isCoinbase':![]},'outpoint':{'transactionId':_0x470695,'index':0x0},'address':new Address(_0x433147['toString']()),'amount':_0x173c51['transaction'][_0x3789f9(0x1df)][0x0][_0x3789f9(0x246)],'isCoinbase':![],'blockDaaScore':_0x13ce01[0x0][_0x3789f9(0x20f)],'scriptPublicKey':{'version':0x0,'script':_0x173c51['transaction'][_0x3789f9(0x1df)][0x0][_0x3789f9(0x1f9)]['script']}}]},{transactions:_0x3a8b8c}=await createTransactions({'priorityEntries':[_0x2469f2[_0x3789f9(0x257)][0x0]],'entries':_0x13ce01,'outputs':[],'changeAddress':_0x36afae['toString'](),'priorityFee':kaspaToSompi('0.0001'),'networkId':networkId});for(let _0x3c6455 of _0x3a8b8c){_0x3c6455[_0x3789f9(0x204)]([_0x495081],![]);let _0x1f1352=_0x3c6455[_0x3789f9(0x251)][_0x3789f9(0x1de)]['findIndex'](_0x31bb37=>_0x31bb37[_0x3789f9(0x1fd)]==='');if(_0x1f1352!==-0x1){const _0x3c0cab=await _0x3c6455[_0x3789f9(0x1d6)](_0x1f1352,_0x495081);_0x3c6455[_0x3789f9(0x200)](_0x1f1352,_0x5037cb[_0x3789f9(0x215)](_0x3c0cab));}document[_0x3789f9(0x1d5)]('pr')['value']=0x64,await sleep(0x3e8),_0x316171=await _0x3c6455[_0x3789f9(0x1c0)](_0x1e3dc6),console[_0x3789f9(0x247)]('Submitted\x20reveal\x20tx\x20sequence\x20transaction:',_0x316171);}if(_0x316171[_0x3789f9(0x1f5)]==0x40){let _0xfefcd='CommitTx:'+_0x470695[_0x3789f9(0x236)](0x0,0x4)+_0x3789f9(0x22a)+_0x470695[_0x3789f9(0x236)](-0x4,0x4),_0xb72ab0=_0x3789f9(0x1c7)+explorer2+_0x470695+'\x22\x20target=\x22_blank\x22>'+_0xfefcd+_0x3789f9(0x1e4),_0x28fd36=_0x3789f9(0x230)+_0x316171[_0x3789f9(0x236)](0x0,0x4)+'...'+_0x316171[_0x3789f9(0x236)](-0x4,0x4),_0xb7e789=_0x3789f9(0x1c7)+explorer2+_0x316171+_0x3789f9(0x1f2)+_0x28fd36+_0x3789f9(0x1e4);Swal[_0x3789f9(0x259)]({'icon':_0x3789f9(0x229),'title':_0x3789f9(0x1f0)+_0xfa15e3['TransferOK']+'</strong>','html':(_0x4aca84/0x5f5e100)[_0x3789f9(0x1ff)]()+'\x20'+_0x281b98+'<br>was\x20successfully\x20sent\x20to\x20'+_0x2ee0ba+_0x3789f9(0x1ea)+_0xb72ab0+'<br>'+_0xb7e789})[_0x3789f9(0x219)](_0x556dfa=>{const _0x2cbf67=_0x3789f9;_0x556dfa[_0x2cbf67(0x252)]&&(history['replaceState'](_0x2cbf67(0x243),_0x2cbf67(0x1f4),_0x2cbf67(0x214)),window[_0x2cbf67(0x1ef)][_0x2cbf67(0x21e)]=_0x2cbf67(0x1e7)+_0xc7cfd0+_0x2cbf67(0x23c)+Date[_0x2cbf67(0x201)]()[_0x2cbf67(0x1ff)]());});}else Swal[_0x3789f9(0x259)]({'icon':'error','title':_0x3789f9(0x1f0)+_0xfa15e3[_0x3789f9(0x22b)]+_0x3789f9(0x23e),'html':(_0x4aca84/0x5f5e100)[_0x3789f9(0x1ff)]()+'\x20'+_0x281b98+_0x3789f9(0x24c)+_0x2ee0ba+_0x3789f9(0x1ea)+_0xfa15e3[_0x3789f9(0x1d7)]})[_0x3789f9(0x219)](_0x2e54f2=>{const _0x3ad65f=_0x3789f9;_0x2e54f2[_0x3ad65f(0x252)]&&(history[_0x3ad65f(0x242)](_0x3ad65f(0x243),_0x3ad65f(0x1f4),_0x3ad65f(0x214)),window['location'][_0x3ad65f(0x21e)]='./index.html?startapp=command&mode=compact&worknet='+_0xc7cfd0+_0x3ad65f(0x23c)+Date[_0x3ad65f(0x201)]()[_0x3ad65f(0x1ff)]());});}}catch(_0x2346f1){_0x2346f1[_0x3789f9(0x224)](_0x3789f9(0x1e6))>0x0?Swal[_0x3789f9(0x259)]({'icon':_0x3789f9(0x1fb),'title':_0x3789f9(0x255)+_0xfa15e3[_0x3789f9(0x212)]+_0x3789f9(0x23e)})[_0x3789f9(0x219)](_0x658619=>{const _0x27a36f=_0x3789f9;_0x658619[_0x27a36f(0x252)]&&(history[_0x27a36f(0x242)](_0x27a36f(0x243),'page\x203','index.html'),window[_0x27a36f(0x1ef)][_0x27a36f(0x21e)]='./index.html?startapp=command&mode=compact&worknet='+_0xc7cfd0+_0x27a36f(0x23c)+Date['now']()['toString']());}):Swal['fire']({'icon':_0x3789f9(0x1fb),'title':'<strong>'+_0xfa15e3[_0x3789f9(0x248)]+_0x3789f9(0x23e),'html':''+_0x2346f1})[_0x3789f9(0x219)](_0x1fdfe6=>{const _0x412866=_0x3789f9;_0x1fdfe6[_0x412866(0x252)]&&(history[_0x412866(0x242)](_0x412866(0x243),'page\x203',_0x412866(0x214)),window[_0x412866(0x1ef)][_0x412866(0x21e)]='./index.html?startapp=command&mode=compact&worknet='+_0xc7cfd0+_0x412866(0x23c)+Date[_0x412866(0x201)]()[_0x412866(0x1ff)]());});}}async function sleep(_0x4e8721){return new Promise(_0x2a05cf=>setTimeout(_0x2a05cf,_0x4e8721));}async function getb(){const _0x3b9a79=_0xb7defd,_0x421cd4=new RpcClient({'url':_0x3b9a79(0x202),'encoding':encoding,'networkId':networkId});await _0x421cd4[_0x3b9a79(0x1ec)](),console[_0x3b9a79(0x247)]('Connected\x20bto',_0x421cd4[_0x3b9a79(0x1eb)]);let {isSynced:_0x464022}=await _0x421cd4[_0x3b9a79(0x237)]();if(!_0x464022){console[_0x3b9a79(0x1d0)](_0x3b9a79(0x1c9)),await _0x421cd4['disconnect']();return;}try{let _0x11a7ba=await _0x421cd4['getBalanceByAddress'](myaddress),_0x5674e5=/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,_0x347c7f=(parseFloat(_0x11a7ba['balance'])/0x5f5e100)[_0x3b9a79(0x1ff)]()[_0x3b9a79(0x1da)](_0x5674e5,',');const {entries:_0x751a1a}=await _0x421cd4['getUtxosByAddresses']([myaddress]);if(_0x751a1a[_0x3b9a79(0x1f5)]===0x0){alert('Send\x20some\x20Kaspa\x20to\x20'+myaddress+_0x3b9a79(0x1c6));return;}}catch(_0x57724c){console['error'](_0x3b9a79(0x1f6),_0x57724c);}finally{await _0x421cd4['disconnect']();}}
            
            
            
        </script>
    </body>
</html>
