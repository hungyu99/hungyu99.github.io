<html lang="zh-TW">
<head>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="expires" content="Sun, 01 Jan 2014 00:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="description" content="KASPA - WASM Wallet">
    <meta name="keywords" content="KASPA - WASM Wallet" />
    <title>KASPA - WASM Wallet</title>
        <style>
            body {
                margin: 0px;
                padding: 32px;
                font-size: 16px;
                font-family: "Consolas", "Andale Mono", monospace;
            }
            a {
                color: rgb(0, 156, 117);
                text-decoration: none;
            }
            a:hover {
                color: rgb(8, 115, 88);
            }
            code {
                color: rgb(30, 94, 184);
                font-size: inherit;
                font-family: inherit;
            }
            li {
                white-space: pre;
            }
            .banner {
                opacity: 0.75;
                position:fixed;
                right: 32px;
                top: 32px;
            }
            label {
                padding-right: 10px;
                font-size: 1rem;
            }
        </style>
</head>
    <body>
        <script src="https://cdn.rawgit.com/mozilla/localForage/master/dist/localforage.js"></script><!-- 使用indexDB -->
        
        <div class="" style="font-size: 18px;display: flex; flex-direction: column; justify-content: flex-start; gap: 8px; margin-top: 5px;align-items: center;color: rgb(255, 123, 33);">
            <span id="pp">Sending, please wait!</span><br><progress id="pr" value="0" max="100">0 %</progress>
        </div>
                
        <script src="./js/ktip.js"></script>
        <script type="module">
            //import * as kaspa from './kaspa/kaspa_wasm.js';
            import * as kaspa from './kaspa/kaspa.js';
            //import { log, stringify, currentNetwork } from './resources/utils.js'; // 標題工具連接
            
            const _0x26f5e7=_0x3094;(function(_0x88e276,_0x1954fa){const _0x2a7a6f=_0x3094,_0x9c5025=_0x88e276();while(!![]){try{const _0x76ffd9=-parseInt(_0x2a7a6f(0x9d))/0x1*(-parseInt(_0x2a7a6f(0xe9))/0x2)+-parseInt(_0x2a7a6f(0xd5))/0x3*(-parseInt(_0x2a7a6f(0xab))/0x4)+-parseInt(_0x2a7a6f(0xd7))/0x5+-parseInt(_0x2a7a6f(0xfd))/0x6+parseInt(_0x2a7a6f(0xd2))/0x7*(-parseInt(_0x2a7a6f(0xd9))/0x8)+-parseInt(_0x2a7a6f(0x8c))/0x9+-parseInt(_0x2a7a6f(0xf6))/0xa*(-parseInt(_0x2a7a6f(0xa4))/0xb);if(_0x76ffd9===_0x1954fa)break;else _0x9c5025['push'](_0x9c5025['shift']());}catch(_0x2e70ce){_0x9c5025['push'](_0x9c5025['shift']());}}}(_0x592d,0x7116a));let {PublicKeyGenerator,createAddress,NetworkType,Mnemonic,XPrv,Mnemonic2,PrivateKeyGenerator,PrivateKey,myaddress,krcaddress,RpcClient,encoding,networkId,mmecho,isScriptPayToPubkey,signScriptHash,payToScriptHashScript,Address,createTransaction,signTransaction,submitTransaction,Resolver,ScriptBuilder,Opcodes,addressFromScriptPublicKey,createTransactions,kaspaToSompi,util,createPayToScriptHashScript,OKQT,RPC,hashRe,explorer2}=kaspa;window[_0x26f5e7(0xa9)]=PublicKeyGenerator;const MYPS_KEY=_0x26f5e7(0xba);function md5(_0x8dcc02){const _0x985b31=_0x26f5e7;return CryptoJS[_0x985b31(0x78)](_0x8dcc02)[_0x985b31(0xc7)]();}function parseKey(_0x3e335b){const _0x14f569=_0x26f5e7;return CryptoJS['enc']['Utf8'][_0x14f569(0xeb)](_0x3e335b);}function encrypt(_0x161ada,_0x20492b,_0x1e5c32,_0xec8854=null){const _0x5120c1=_0x26f5e7,_0x18d053=parseKey(_0x1e5c32),_0x4c1e10=parseKey(_0xec8854);return CryptoJS['AES'][_0x5120c1(0xde)](_0x20492b,_0x18d053,{'iv':_0x4c1e10,'mode':_0x161ada,'padding':CryptoJS[_0x5120c1(0x109)][_0x5120c1(0x84)]})['toString']();}function decrypt(_0x3b7bb0,_0x1dce76,_0x1057ca,_0x54d8b9=null){const _0x436ad3=_0x26f5e7,_0x131554=parseKey(_0x1057ca),_0x576c02=parseKey(_0x54d8b9);let _0xd9fa57=CryptoJS[_0x436ad3(0x77)][_0x436ad3(0xf0)](_0x1dce76,_0x131554,{'iv':_0x576c02,'mode':_0x3b7bb0,'padding':CryptoJS[_0x436ad3(0x109)][_0x436ad3(0x84)]});return _0xd9fa57[_0x436ad3(0xc7)](CryptoJS[_0x436ad3(0x7d)][_0x436ad3(0xf8)]);}function _0x592d(){const _0xd43405=['ktip','OpCheckSig','./index.html?startapp=command&mode=compact&worknet=','sign','39982XObOAR','BBBBBB','parse','\x22\x20target=\x22_blank\x22>','transaction','location','./kaspa/kaspa_bg.wasm','decrypt','&SendAmount=','null','RevealTx:','EPSILON','get','455470DPzvQW','OpEndIf','Utf8','<br><br>','sendhongbao-0','href','wait','4661178mCPVCP','log','<br>was\x20successfully\x20sent\x20to\x20','stringify','submit','RPCinfo','Memo','YuXprv','Balance','lange','testnet-10','<a\x20href=\x22','pad','outputs','CBC','<strong>KRC20\x20','innerHTML','TICKER','\x20返回錯誤','priorityBucket','connect','createPayToScriptHashScript','other8','Mainnet','getBalanceByAddress','index.html','AES','MD5','substr','https://explorer-tn10.kaspa.org/txs/','</strong>','findIndex','enc','TransferERR','</a>','0.12','&TICKER=','in\x20the\x20mempool','stateObj','Pkcs7','Error:','charCodeAt','feerate','Err2','Connected\x20to','0.0001','encodePayToScriptHashSignatureScript','2430486CbKcCp','getElementById','fire','toKeypair','urlqq','https://explorer.kaspa.org/txs/','blockDaaScore','toXOnlyPublicKey','addOp','krc-20','value','estimate','fillInput','getServerInfo','now','Urlpath','script','2VWaWFg','isConfirmed','replaceState','<br>was\x20Error\x20sent\x20to\x20','other7','OpIf','scriptPublicKey','407JnAVSW','inputs','&SendAddress=','error','Send\x20some\x20Kaspa\x20to\x20','XPublicKey','Mainnetnode','2756592TvoixZ','&SendQt=','&test=','Txid:','round','wss://dochat.dopay.biz/mainnet','https://kaswasm.dopay.biz','searchParams','normalBuckets','url','testnet-11','createInputSignature','worknet','push','./index.html?worknet=','MYPS_KEY','<br>','balance','mode','CommitTx:','MyKey','<strong>','MYADDRESS','entries','transfer','toPublicKey','toAddress','\x20-\x20KTIP\x20P2SH\x20CommTx:','toString','THB_TQT','search','addData','kaspa:qp7ylc9j3sxw7ntgupydnjpgr8wtlet3276aws4qvylz97qa3v2hcak6n92ea','Submitted\x20reveal\x20tx\x20sequence\x20transaction:','warning','kasplex','https://kasshop.dopay.biz/kmint3_bot/zapi.php?pr=THongbao','success','TransferOK','63Vzsehh','page\x203','Please\x20wait\x20for\x20the\x20node\x20to\x20sync','3luDaUW','getUtxosByAddresses','1567635mrrzwo','disconnect','525080GYSRbi','addI64','gethongbao.html?gid=','wss://eu-1.kaspa-ng.org/testnet-11','undefined','encrypt','length','...','origin','getItem','other9','then'];_0x592d=function(){return _0xd43405;};return _0x592d();}((async()=>{const _0x1be1f5=_0x26f5e7;var _0x538168=location['href'],_0x17d7c8=new URL(_0x538168);console[_0x1be1f5(0xfe)](_0x1be1f5(0x90),_0x17d7c8);var _0x834510=_0x17d7c8[_0x1be1f5(0xb2)][_0x1be1f5(0xf5)](_0x1be1f5(0xb7));let _0x22099a=_0x17d7c8[_0x1be1f5(0xb2)][_0x1be1f5(0xf5)](_0x1be1f5(0x6e)),_0x45d1b0=_0x17d7c8[_0x1be1f5(0xb2)]['get'](_0x1be1f5(0xc1)),_0x3c4034=parseInt(_0x17d7c8[_0x1be1f5(0xb2)]['get']('THB_TAMOUNT'))[_0x1be1f5(0xc7)](),_0x51c617=parseInt(_0x17d7c8[_0x1be1f5(0xb2)][_0x1be1f5(0xf5)](_0x1be1f5(0xc8))),_0x5ab340=await localStorage[_0x1be1f5(0xe2)](_0x1be1f5(0x106)),_0x58cf3c=JSON['parse'](_0x5ab340),_0x47f6e0=_0x17d7c8['searchParams'][_0x1be1f5(0xf5)]('pr'),_0x23b16a=_0x17d7c8[_0x1be1f5(0xb2)][_0x1be1f5(0xf5)](_0x1be1f5(0x103));document[_0x1be1f5(0x8d)]('pp')[_0x1be1f5(0x6d)]=_0x58cf3c[_0x1be1f5(0xfc)],console[_0x1be1f5(0xfe)](_0x1be1f5(0xfa),_0x834510,_0x22099a,_0x45d1b0,_0x51c617,_0x3c4034,_0x23b16a,_0x47f6e0);let _0x231fc0='';mmecho='{';const _0x13b83f=await kaspa['default'](_0x1be1f5(0xef));networkId=''?networkId:_0x1be1f5(0x74);if(_0x834510==_0x1be1f5(0x107)){explorer2=_0x1be1f5(0x7a),networkId=_0x1be1f5(0x107);let _0xb15048=localStorage[_0x1be1f5(0xe2)]('Testnetnode');RPC=_0xb15048,_0x231fc0='kaspatest:qp7ylc9j3sxw7ntgupydnjpgr8wtlet3276aws4qvylz97qa3v2hcusug25ge';}else _0x834510==_0x1be1f5(0xb5)?(networkId='testnet-11',RPC=_0x1be1f5(0xdc)):(explorer2=_0x1be1f5(0x91),networkId=_0x1be1f5(0x74),RPC=localStorage[_0x1be1f5(0xe2)](_0x1be1f5(0xaa)),_0x231fc0=_0x1be1f5(0xcb));let _0x48f595=sessionStorage[_0x1be1f5(0xe2)](_0x1be1f5(0xbf));if(typeof _0x48f595!=='undefined'&&_0x48f595!==null&&_0x48f595!=='null'&&_0x48f595!==''){}else{}const _0x50e848=md5(_0x48f595),_0x46a50f=_0x50e848,_0x1c4c72=md5(_0x46a50f),_0x5ebd18=_0x1c4c72['substr'](0x0,0x10);let _0x11ee19=await localforage[_0x1be1f5(0xe2)]('MYWT')[_0x1be1f5(0xe4)](function(_0x3fb034){const _0x2f892b=_0x1be1f5;let _0x1149e1=decrypt(CryptoJS[_0x2f892b(0xbd)][_0x2f892b(0x6b)],_0x3fb034,_0x1c4c72,_0x5ebd18);return JSON[_0x2f892b(0xeb)](_0x1149e1);});var _0x1859db=_0x11ee19[_0x1be1f5(0x104)];if(typeof _0x1859db!==_0x1be1f5(0xdd)&&_0x1859db!==null&&_0x1859db!==_0x1be1f5(0xf2)){const _0x405a89=new PrivateKey(_0x1859db),_0x4ba93f=_0x405a89[_0x1be1f5(0x8f)](),_0x4d4512=_0x4ba93f[_0x1be1f5(0xc5)](networkId);myaddress=_0x4d4512[_0x1be1f5(0xc7)]();}else{}_0x47f6e0=='ktip'?TransKtip(RPC,_0x22099a,_0x51c617,_0x45d1b0,_0x3c4034,_0x11ee19,_0x834510,_0x58cf3c,_0x23b16a,_0x231fc0):document[_0x1be1f5(0x8d)]('pp')[_0x1be1f5(0x6d)]=_0x58cf3c[_0x1be1f5(0x88)];})());function convertToHex(_0x2707f9){const _0x42a63f=_0x26f5e7;var _0x534be5='';for(var _0x1932bb=0x0;_0x1932bb<_0x2707f9[_0x42a63f(0xdf)];_0x1932bb++){_0x534be5+=''+_0x2707f9[_0x42a63f(0x86)](_0x1932bb)[_0x42a63f(0xc7)](0x10);}return _0x534be5;}function _0x3094(_0x21dfb2,_0x9f57a8){const _0x592d05=_0x592d();return _0x3094=function(_0x309438,_0x468c39){_0x309438=_0x309438-0x6a;let _0x4d811f=_0x592d05[_0x309438];return _0x4d811f;},_0x3094(_0x21dfb2,_0x9f57a8);}async function TransKtip(_0x52c3f1,_0x21f777,_0x1588f2,_0x26d781,_0x12c813,_0x3c11c8,_0x275f7c,_0x3f4e7d,_0x4be007,_0x2f0421){const _0x5d9c05=_0x26f5e7;document[_0x5d9c05(0x8d)]('pr')[_0x5d9c05(0x96)]=0xa;const _0x176945=new RpcClient({'url':_0x52c3f1,'encoding':encoding,'networkId':networkId});await _0x176945[_0x5d9c05(0x71)]();let {isSynced:_0x370cb3}=await _0x176945[_0x5d9c05(0x99)]();if(!_0x370cb3){console[_0x5d9c05(0xa7)](_0x5d9c05(0xd4)),await _0x176945['disconnect']();return;}let _0x50f824=await _0x176945['getFeeEstimate']({}),_0x4f5356=_0x50f824[_0x5d9c05(0x97)][_0x5d9c05(0xb3)][0x1]['feerate']*(0xce4/0x5f5e100),_0x567878=_0x50f824[_0x5d9c05(0x97)]['normalBuckets'][0x0][_0x5d9c05(0x87)]*(0xce4/0x5f5e100),_0x28f482=_0x50f824[_0x5d9c05(0x97)][_0x5d9c05(0x70)][_0x5d9c05(0x87)]*(0xce4/0x5f5e100);_0x4f5356=Math[_0x5d9c05(0xaf)]((_0x4f5356+Number[_0x5d9c05(0xf4)])*0x989680)/0x989680,_0x567878=Math['round']((_0x567878+Number[_0x5d9c05(0xf4)])*0x989680)/0x989680,_0x28f482=Math[_0x5d9c05(0xaf)]((_0x28f482+Number['EPSILON'])*0x989680)/0x989680,_0x567878=_0x567878+0.0001;if(_0x567878<0.01){var _0x27d593=_0x3c11c8['YuXprv'],_0x528cd1=new PrivateKey(_0x27d593);const _0x5d20bc=_0x528cd1[_0x5d9c05(0xc4)](),_0x10d802=_0x5d20bc[_0x5d9c05(0xc5)](networkId),_0x144a29={'op':_0x5d9c05(0xc3),'tick':_0x21f777,'amount':_0x12c813,'to':_0x2f0421,'memo':_0x4be007},_0x3dd5ad=new ScriptBuilder()['addData'](_0x5d20bc[_0x5d9c05(0x93)]()[_0x5d9c05(0xc7)]())[_0x5d9c05(0x94)](Opcodes[_0x5d9c05(0xe6)])[_0x5d9c05(0x94)](Opcodes['OpFalse'])[_0x5d9c05(0x94)](Opcodes[_0x5d9c05(0xa2)])[_0x5d9c05(0xca)](convertToHex(_0x5d9c05(0xe5)))[_0x5d9c05(0xda)](0x0n)[_0x5d9c05(0xca)](convertToHex(JSON[_0x5d9c05(0x100)](_0x144a29,null,0x0)))[_0x5d9c05(0x94)](Opcodes[_0x5d9c05(0xf7)]),{entries:_0x4da982}=await _0x176945[_0x5d9c05(0xd6)]({'addresses':[_0x10d802[_0x5d9c05(0xc7)]()]});let _0x1b8819=_0x4da982,_0x2ab574=kaspaToSompi('0.5'),_0x2b458a=kaspaToSompi('0'),_0x5b12ce=[];await sleep(0xc8);for(var _0xcd5694=0x0;_0xcd5694<_0x1b8819[_0x5d9c05(0xdf)];_0xcd5694++){if(_0x2ab574>_0x2b458a)_0x5b12ce[_0x5d9c05(0xb8)](_0x1b8819[_0xcd5694]),_0x2b458a=_0x1b8819[_0xcd5694]['amount'];else break;}const {transactions:_0x570ee5}=await createTransactions({'priorityEntries':[],'entries':_0x5b12ce,'outputs':[{'address':_0x10d802[_0x5d9c05(0xc7)](),'amount':kaspaToSompi(_0x5d9c05(0x80))}],'changeAddress':_0x10d802[_0x5d9c05(0xc7)](),'priorityFee':kaspaToSompi(_0x567878['toString']()),'payload':_0x3dd5ad[_0x5d9c05(0xc7)](),'networkId':networkId});let _0x5bc522,_0x1d91b9;document[_0x5d9c05(0x8d)]('pr')[_0x5d9c05(0x96)]=0x1e;try{for(const _0x3d56ea of _0x570ee5){_0x3d56ea[_0x5d9c05(0xe8)]([_0x528cd1]),_0x5bc522=await _0x3d56ea[_0x5d9c05(0x101)](_0x176945),console[_0x5d9c05(0xfe)](_0x5d9c05(0xc6),_0x5bc522),await sleep(0x7d0);if(_0x5bc522[_0x5d9c05(0xdf)]==0x40){let _0x542512=_0x5d9c05(0xcf)+_0x5d9c05(0xa6)+_0x10d802['toString']()+_0x5d9c05(0x81)+_0x21f777+_0x5d9c05(0xf1)+_0x12c813+_0x5d9c05(0xac)+_0x1588f2+'&Memo='+_0x4be007+'&Txid='+_0x5bc522;console[_0x5d9c05(0xfe)]('gurl2',_0x542512),fetch(_0x542512)['then'](_0x383a31=>_0x383a31['text']())[_0x5d9c05(0xe4)](_0x222ce6=>{const _0x47b4e6=_0x5d9c05;var _0x3070ca=JSON['parse'](_0x222ce6);console[_0x47b4e6(0xfe)]('ttres-save-ktip',_0x3070ca);if(_0x3070ca['success']){let _0x497e14=_0x47b4e6(0xae)+_0x5bc522[_0x47b4e6(0x79)](0x0,0x4)+'...'+_0x5bc522[_0x47b4e6(0x79)](-0x4,0x4),_0x199eda=_0x47b4e6(0x108)+explorer2+_0x5bc522+_0x47b4e6(0xec)+_0x497e14+_0x47b4e6(0x7f),_0x4b206d='';location[_0x47b4e6(0xe1)]==_0x47b4e6(0xb1)?_0x4b206d=location['origin']+'/test/'+_0x47b4e6(0xdb)+_0x3070ca['aid']:_0x4b206d=location[_0x47b4e6(0xe1)]+'/'+_0x47b4e6(0xdb)+_0x3070ca['aid'];console[_0x47b4e6(0xfe)](_0x47b4e6(0x9b),_0x4b206d);let _0x17d5d6=_0x47b4e6(0x108)+_0x4b206d+_0x47b4e6(0xec)+_0x3070ca['aid']+'</a>';Swal['fire']({'icon':'success','title':'<strong>KTIP20\x20'+_0x3f4e7d['SendHongbaoOK']+_0x47b4e6(0x7b),'html':_0x199eda+_0x47b4e6(0xbb)+_0x17d5d6+_0x47b4e6(0xf9)+_0x4b206d})[_0x47b4e6(0xe4)](_0x42d5d4=>{const _0x558b24=_0x47b4e6;_0x42d5d4['isConfirmed']&&(history['replaceState'](_0x558b24(0x83),_0x558b24(0xd3),_0x558b24(0x76)),window[_0x558b24(0xee)][_0x558b24(0xfb)]='./index.html?startapp=command&mode=compact&worknet='+_0x275f7c+_0x558b24(0xad)+Date[_0x558b24(0x9a)]()[_0x558b24(0xc7)]());});}else console[_0x47b4e6(0xfe)](_0x47b4e6(0x6f));});}else Swal[_0x5d9c05(0x8e)]({'icon':_0x5d9c05(0xa7),'title':_0x5d9c05(0x6c)+_0x3f4e7d[_0x5d9c05(0x7e)]+_0x5d9c05(0x7b),'html':_0x12c813[_0x5d9c05(0xc7)]()+'\x20'+_0x21f777+_0x5d9c05(0xa0)+_0x2f0421+'<br>'+_0x3f4e7d[_0x5d9c05(0xa1)]})[_0x5d9c05(0xe4)](_0x1d05ed=>{const _0x5e5379=_0x5d9c05;_0x1d05ed['isConfirmed']&&(history[_0x5e5379(0x9f)](_0x5e5379(0x83),_0x5e5379(0xd3),_0x5e5379(0x76)),window['location'][_0x5e5379(0xfb)]=_0x5e5379(0xe7)+_0x275f7c+'&test='+Date[_0x5e5379(0x9a)]()[_0x5e5379(0xc7)]());});}}catch(_0x4889d0){_0x4889d0[_0x5d9c05(0xc9)](_0x5d9c05(0x82))>0x0?Swal[_0x5d9c05(0x8e)]({'icon':_0x5d9c05(0xcd),'title':_0x5d9c05(0xc0)+_0x3f4e7d[_0x5d9c05(0xe3)]+'</strong>'})['then'](_0x16ac64=>{const _0x2b08b7=_0x5d9c05;_0x16ac64[_0x2b08b7(0x9e)]&&(history[_0x2b08b7(0x9f)](_0x2b08b7(0x83),'page\x203',_0x2b08b7(0x76)),window[_0x2b08b7(0xee)][_0x2b08b7(0xfb)]='./index.html?startapp=command&mode=compact&worknet='+_0x275f7c+'&test='+Date[_0x2b08b7(0x9a)]()[_0x2b08b7(0xc7)]());}):Swal['fire']({'icon':'warning','title':'<strong>'+_0x3f4e7d['other8']+_0x5d9c05(0x7b),'html':''+_0x4889d0})['then'](_0x5f569d=>{const _0xa13804=_0x5d9c05;_0x5f569d[_0xa13804(0x9e)]&&(history[_0xa13804(0x9f)](_0xa13804(0x83),_0xa13804(0xd3),_0xa13804(0x76)),window[_0xa13804(0xee)][_0xa13804(0xfb)]=_0xa13804(0xe7)+_0x275f7c+_0xa13804(0xad)+Date[_0xa13804(0x9a)]()['toString']());});}}else Swal['fire']({'icon':'warning','title':_0x5d9c05(0xc0)+_0x3f4e7d[_0x5d9c05(0x73)]+_0x5d9c05(0x7b),'html':''+error})[_0x5d9c05(0xe4)](_0xc5fc74=>{const _0x226705=_0x5d9c05;_0xc5fc74[_0x226705(0x9e)]&&(history[_0x226705(0x9f)]('stateObj',_0x226705(0xd3),_0x226705(0x76)),window[_0x226705(0xee)][_0x226705(0xfb)]=_0x226705(0xe7)+_0x275f7c+_0x226705(0xad)+Date[_0x226705(0x9a)]()[_0x226705(0xc7)]());});}async function TransToken(_0x1c5948,_0x17e515,_0x4fb851,_0x2ff129,_0x2363f5,_0x46eb30,_0x51e144,_0x540695){const _0x16ffbf=_0x26f5e7;document['getElementById']('pr')[_0x16ffbf(0x96)]=0xa;const _0x4cd950=new RpcClient({'url':_0x1c5948,'encoding':encoding,'networkId':networkId});await _0x4cd950[_0x16ffbf(0x71)](),console[_0x16ffbf(0xfe)](_0x16ffbf(0x89),_0x4cd950[_0x16ffbf(0xb4)]);let {isSynced:_0x46aaf8}=await _0x4cd950[_0x16ffbf(0x99)]();if(!_0x46aaf8){console['error'](_0x16ffbf(0xd4)),await _0x4cd950[_0x16ffbf(0xd8)]();return;}try{let _0x1c60f1=new Address(_0x2ff129);}catch(_0x2dc113){alert('收款方錯誤!請檢查收款地址!'),window[_0x16ffbf(0xee)][_0x16ffbf(0xfb)]=_0x16ffbf(0xb9)+_0x51e144;}let _0x1946b9=await _0x4cd950['getFeeEstimate']({});console[_0x16ffbf(0xfe)](_0x16ffbf(0x102),_0x1946b9,_0x1946b9[_0x16ffbf(0x97)]['priorityBucket']['feerate']);let _0x46afbb=_0x1946b9[_0x16ffbf(0x97)]['normalBuckets'][0x1]['feerate']*(0xce4/0x5f5e100),_0x1a0087=_0x1946b9['estimate']['normalBuckets'][0x0][_0x16ffbf(0x87)]*(0xce4/0x5f5e100),_0x322b84=_0x1946b9[_0x16ffbf(0x97)]['priorityBucket']['feerate']*(0xce4/0x5f5e100);_0x46afbb=Math[_0x16ffbf(0xaf)]((_0x46afbb+Number['EPSILON'])*0x989680)/0x989680,_0x1a0087=Math[_0x16ffbf(0xaf)]((_0x1a0087+Number['EPSILON'])*0x989680)/0x989680,_0x322b84=Math[_0x16ffbf(0xaf)]((_0x322b84+Number[_0x16ffbf(0xf4)])*0x989680)/0x989680,_0x1a0087=_0x16ffbf(0x8a);var _0x27a53f=_0x46eb30[_0x16ffbf(0x104)],_0x48b60a=new PrivateKey(_0x27a53f);const _0x454928=_0x48b60a[_0x16ffbf(0xc4)](),_0x471456=_0x454928[_0x16ffbf(0xc5)](networkId),_0x49ea4d={'p':_0x16ffbf(0x95),'op':_0x16ffbf(0xc3),'tick':_0x17e515,'amt':_0x2363f5,'to':_0x2ff129,'from':_0x471456['toString']()},_0x363769=new ScriptBuilder()['addData'](_0x454928['toXOnlyPublicKey']()[_0x16ffbf(0xc7)]())['addOp'](Opcodes[_0x16ffbf(0xe6)])[_0x16ffbf(0x94)](Opcodes['OpFalse'])[_0x16ffbf(0x94)](Opcodes[_0x16ffbf(0xa2)])[_0x16ffbf(0xca)](convertToHex(_0x16ffbf(0xce)))[_0x16ffbf(0xda)](0x1n)[_0x16ffbf(0xca)](convertToHex('text/plain;charset=utf-8'))[_0x16ffbf(0xda)](0x0n)[_0x16ffbf(0xca)](convertToHex(JSON[_0x16ffbf(0x100)](_0x49ea4d,null,0x0)))[_0x16ffbf(0x94)](Opcodes[_0x16ffbf(0xf7)]),_0x56bbfa=addressFromScriptPublicKey(_0x363769[_0x16ffbf(0x72)](),networkId),{entries:_0x319cc4}=await _0x4cd950[_0x16ffbf(0xd6)]({'addresses':[_0x471456['toString']()]}),{transactions:_0x5d156b}=await createTransactions({'priorityEntries':[],'entries':_0x319cc4,'outputs':[{'address':_0x56bbfa['toString'](),'amount':kaspaToSompi('2')}],'changeAddress':_0x471456[_0x16ffbf(0xc7)](),'priorityFee':kaspaToSompi(_0x1a0087['toString']()),'networkId':networkId});let _0x51193d,_0x44cb60;document[_0x16ffbf(0x8d)]('pr')[_0x16ffbf(0x96)]=0x1e;try{for(const _0x4db4d1 of _0x5d156b){_0x4db4d1['sign']([_0x48b60a]),_0x51193d=await _0x4db4d1['submit'](_0x4cd950),console[_0x16ffbf(0xfe)]('submitted\x20P2SH\x20commit\x20sequence\x20transaction\x20on:',_0x51193d),document[_0x16ffbf(0x8d)]('pr')[_0x16ffbf(0x96)]=0x3c,await sleep(0x7d0);const {entries:_0x4bcd20}=await _0x4cd950[_0x16ffbf(0xd6)]({'addresses':[_0x471456[_0x16ffbf(0xc7)]()]});let _0xe688b8={'entries':[{'entry':{'address':new Address(_0x56bbfa['toString']()),'outpoint':{'transactionId':_0x51193d,'index':0x0},'amount':_0x4db4d1[_0x16ffbf(0xed)][_0x16ffbf(0x6a)][0x0]['value'],'scriptPublicKey':{'version':0x0,'script':_0x4db4d1[_0x16ffbf(0xed)][_0x16ffbf(0x6a)][0x0]['scriptPublicKey'][_0x16ffbf(0x9c)]},'blockDaaScore':_0x4bcd20[0x0][_0x16ffbf(0x92)],'isCoinbase':![]},'outpoint':{'transactionId':_0x51193d,'index':0x0},'address':new Address(_0x56bbfa[_0x16ffbf(0xc7)]()),'amount':_0x4db4d1[_0x16ffbf(0xed)][_0x16ffbf(0x6a)][0x0][_0x16ffbf(0x96)],'isCoinbase':![],'blockDaaScore':_0x4bcd20[0x0]['blockDaaScore'],'scriptPublicKey':{'version':0x0,'script':_0x4db4d1[_0x16ffbf(0xed)][_0x16ffbf(0x6a)][0x0][_0x16ffbf(0xa3)][_0x16ffbf(0x9c)]}}]},{transactions:_0x2ae1a4}=await createTransactions({'priorityEntries':[_0xe688b8[_0x16ffbf(0xc2)][0x0]],'entries':_0x4bcd20,'outputs':[],'changeAddress':_0x471456[_0x16ffbf(0xc7)](),'priorityFee':kaspaToSompi(_0x16ffbf(0x8a)),'networkId':networkId});for(let _0xf299b1 of _0x2ae1a4){console[_0x16ffbf(0xfe)](_0x16ffbf(0xed),_0xf299b1),_0xf299b1['sign']([_0x48b60a],![]);let _0x23ba88=_0xf299b1[_0x16ffbf(0xed)][_0x16ffbf(0xa5)][_0x16ffbf(0x7c)](_0x1545be=>_0x1545be['signatureScript']==='');if(_0x23ba88!==-0x1){const _0x2d258d=await _0xf299b1[_0x16ffbf(0xb6)](_0x23ba88,_0x48b60a);_0xf299b1[_0x16ffbf(0x98)](_0x23ba88,_0x363769[_0x16ffbf(0x8b)](_0x2d258d));}document[_0x16ffbf(0x8d)]('pr')[_0x16ffbf(0x96)]=0x64,await sleep(0x3e8),_0x44cb60=await _0xf299b1[_0x16ffbf(0x101)](_0x4cd950),console[_0x16ffbf(0xfe)](_0x16ffbf(0xcc),_0x44cb60);}if(_0x44cb60[_0x16ffbf(0xdf)]==0x40){let _0x1f2d8a=_0x16ffbf(0xbe)+_0x51193d[_0x16ffbf(0x79)](0x0,0x4)+_0x16ffbf(0xe0)+_0x51193d[_0x16ffbf(0x79)](-0x4,0x4),_0x455d50=_0x16ffbf(0x108)+explorer2+_0x51193d+_0x16ffbf(0xec)+_0x1f2d8a+_0x16ffbf(0x7f),_0x1925df=_0x16ffbf(0xf3)+_0x44cb60[_0x16ffbf(0x79)](0x0,0x4)+'...'+_0x44cb60[_0x16ffbf(0x79)](-0x4,0x4),_0x54a3d8=_0x16ffbf(0x108)+explorer2+_0x44cb60+_0x16ffbf(0xec)+_0x1925df+_0x16ffbf(0x7f);Swal[_0x16ffbf(0x8e)]({'icon':_0x16ffbf(0xd0),'title':_0x16ffbf(0x6c)+_0x540695[_0x16ffbf(0xd1)]+_0x16ffbf(0x7b),'html':(_0x2363f5/0x5f5e100)[_0x16ffbf(0xc7)]()+'\x20'+_0x17e515+_0x16ffbf(0xff)+_0x2ff129+_0x16ffbf(0xbb)+_0x455d50+_0x16ffbf(0xbb)+_0x54a3d8})[_0x16ffbf(0xe4)](_0x96da40=>{const _0x1f1f90=_0x16ffbf;_0x96da40[_0x1f1f90(0x9e)]&&(history[_0x1f1f90(0x9f)](_0x1f1f90(0x83),'page\x203',_0x1f1f90(0x76)),window[_0x1f1f90(0xee)]['href']='./index.html?startapp=command&mode=compact&worknet='+_0x51e144+_0x1f1f90(0xad)+Date[_0x1f1f90(0x9a)]()[_0x1f1f90(0xc7)]());});}else Swal['fire']({'icon':_0x16ffbf(0xa7),'title':_0x16ffbf(0x6c)+_0x540695['TransferERR']+_0x16ffbf(0x7b),'html':(_0x2363f5/0x5f5e100)[_0x16ffbf(0xc7)]()+'\x20'+_0x17e515+_0x16ffbf(0xa0)+_0x2ff129+'<br>'+_0x540695[_0x16ffbf(0xa1)]})['then'](_0x4dac57=>{const _0x5f3213=_0x16ffbf;_0x4dac57[_0x5f3213(0x9e)]&&(history['replaceState']('stateObj',_0x5f3213(0xd3),_0x5f3213(0x76)),window['location'][_0x5f3213(0xfb)]=_0x5f3213(0xe7)+_0x51e144+'&test='+Date['now']()[_0x5f3213(0xc7)]());});}}catch(_0xc75343){_0xc75343[_0x16ffbf(0xc9)](_0x16ffbf(0x82))>0x0?Swal[_0x16ffbf(0x8e)]({'icon':_0x16ffbf(0xcd),'title':_0x16ffbf(0xc0)+_0x540695[_0x16ffbf(0xe3)]+_0x16ffbf(0x7b)})['then'](_0xfe4d0f=>{const _0x229551=_0x16ffbf;_0xfe4d0f[_0x229551(0x9e)]&&(history['replaceState'](_0x229551(0x83),_0x229551(0xd3),_0x229551(0x76)),window[_0x229551(0xee)]['href']=_0x229551(0xe7)+_0x51e144+_0x229551(0xad)+Date[_0x229551(0x9a)]()['toString']());}):Swal[_0x16ffbf(0x8e)]({'icon':'warning','title':'<strong>'+_0x540695[_0x16ffbf(0x73)]+_0x16ffbf(0x7b),'html':''+_0xc75343})[_0x16ffbf(0xe4)](_0x2f5c15=>{const _0x21de13=_0x16ffbf;_0x2f5c15[_0x21de13(0x9e)]&&(history[_0x21de13(0x9f)]('stateObj',_0x21de13(0xd3),_0x21de13(0x76)),window['location'][_0x21de13(0xfb)]=_0x21de13(0xe7)+_0x51e144+_0x21de13(0xad)+Date[_0x21de13(0x9a)]()[_0x21de13(0xc7)]());});}}async function sleep(_0x3946a7){return new Promise(_0x4c436a=>setTimeout(_0x4c436a,_0x3946a7));}async function getb(){const _0x487519=_0x26f5e7,_0x42caa5=new RpcClient({'url':_0x487519(0xb0),'encoding':encoding,'networkId':networkId});await _0x42caa5[_0x487519(0x71)](),console[_0x487519(0xfe)]('Connected\x20bto',_0x42caa5[_0x487519(0xb4)]);let {isSynced:_0x8da87d}=await _0x42caa5['getServerInfo']();if(!_0x8da87d){console[_0x487519(0xa7)](_0x487519(0xd4)),await _0x42caa5[_0x487519(0xd8)]();return;}try{console[_0x487519(0xfe)](_0x487519(0xea));let _0x4856fd=await _0x42caa5[_0x487519(0x75)](myaddress);console['log'](_0x487519(0x105),_0x4856fd);let _0x14b82b=/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,_0x519352=(parseFloat(_0x4856fd[_0x487519(0xbc)])/0x5f5e100)[_0x487519(0xc7)]()['replace'](_0x14b82b,',');const {entries:_0xb9614b}=await _0x42caa5[_0x487519(0xd6)]([myaddress]);if(_0xb9614b['length']===0x0){alert(_0x487519(0xa8)+myaddress+'before\x20proceeding\x20with\x20the\x20demo');return;}}catch(_0x15bfb5){console[_0x487519(0xa7)](_0x487519(0x85),_0x15bfb5);}finally{await _0x42caa5[_0x487519(0xd8)]();}}
            
            
            
            
        </script>
    </body>
</html>
