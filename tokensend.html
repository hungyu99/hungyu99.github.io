<html lang="zh-TW">
<head>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="expires" content="Sun, 01 Jan 2014 00:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="description" content="KASPA - WASM Wallet">
    <meta name="keywords" content="KASPA - WASM Wallet" />
    <title>KASPA - WASM Wallet</title>
        <style>
            body {
                margin: 0px;
                padding: 32px;
                font-size: 16px;
                font-family: "Consolas", "Andale Mono", monospace;
            }
            a {
                color: rgb(0, 156, 117);
                text-decoration: none;
            }
            a:hover {
                color: rgb(8, 115, 88);
            }
            code {
                color: rgb(30, 94, 184);
                font-size: inherit;
                font-family: inherit;
            }
            li {
                white-space: pre;
            }
            .banner {
                opacity: 0.75;
                position:fixed;
                right: 32px;
                top: 32px;
            }
            label {
                padding-right: 10px;
                font-size: 1rem;
            }
        </style>
</head>
    <body>
        <script src="https://cdn.rawgit.com/mozilla/localForage/master/dist/localforage.js"></script><!-- 使用indexDB -->
        
        <div class="" style="font-size: 18px;display: flex; flex-direction: column; justify-content: center; gap: 8px; margin-top: 30px;align-items: center;color: rgb(255, 123, 33);">
            <span id="pp">Sending, please wait!</span><br><progress id="pr" value="0" max="100">0 %</progress>
        </div>
                
        <script>
            function _0x2ea6(){var _0x4f7604=['toString','9pEjqdD','2741728xJNMGK','split','CryptoJS|function|null|parseKey|return|localStorage|setItem|const|toString|MYPS_KEY|enc|Utf8|encrypt|AES||iv|mode|padding|pad|Pkcs7|decrypt||delWallet22||||YuXprv||YuXpub||YuXadd|md5|MD5|parse|let','8807660TrqUVt','8EOykgF','313037aIsXhY','replace','8880459wbplYK','573750QthYHo','1055035YmweoR','4CufwQf','1511808idpDBk'];_0x2ea6=function(){return _0x4f7604;};return _0x2ea6();}function _0x2abc(_0x3263e2,_0x1ab62){var _0x2ea68a=_0x2ea6();return _0x2abc=function(_0x2abc6d,_0x276746){_0x2abc6d=_0x2abc6d-0xe3;var _0x2f8e7=_0x2ea68a[_0x2abc6d];return _0x2f8e7;},_0x2abc(_0x3263e2,_0x1ab62);}var _0x1ac7bf=_0x2abc;(function(_0x3f0550,_0x9379f6){var _0x728483=_0x2abc,_0x1ba458=_0x3f0550();while(!![]){try{var _0x233452=parseInt(_0x728483(0xe3))/0x1*(-parseInt(_0x728483(0xe8))/0x2)+-parseInt(_0x728483(0xe9))/0x3+-parseInt(_0x728483(0xec))/0x4+parseInt(_0x728483(0xe7))/0x5+parseInt(_0x728483(0xe6))/0x6+-parseInt(_0x728483(0xe5))/0x7*(-parseInt(_0x728483(0xf0))/0x8)+-parseInt(_0x728483(0xeb))/0x9*(-parseInt(_0x728483(0xef))/0xa);if(_0x233452===_0x9379f6)break;else _0x1ba458['push'](_0x1ba458['shift']());}catch(_0x5c3289){_0x1ba458['push'](_0x1ba458['shift']());}}}(_0x2ea6,0x9c651),eval(function(_0x21d13e,_0x6f4621,_0x2e3ef8,_0x28dc56,_0x1d4ff6,_0x5fcbac){var _0x464e29=_0x2abc;_0x1d4ff6=function(_0x1428cd){var _0x2b0b5a=_0x2abc;return _0x1428cd[_0x2b0b5a(0xea)](_0x6f4621);};if(!''[_0x464e29(0xe4)](/^/,String)){while(_0x2e3ef8--)_0x5fcbac[_0x1d4ff6(_0x2e3ef8)]=_0x28dc56[_0x2e3ef8]||_0x1d4ff6(_0x2e3ef8);_0x28dc56=[function(_0x21c34c){return _0x5fcbac[_0x21c34c];}],_0x1d4ff6=function(){return'\x5cw+';},_0x2e3ef8=0x1;};while(_0x2e3ef8--)if(_0x28dc56[_0x2e3ef8])_0x21d13e=_0x21d13e[_0x464e29(0xe4)](new RegExp('\x5cb'+_0x1d4ff6(_0x2e3ef8)+'\x5cb','g'),_0x28dc56[_0x2e3ef8]);return _0x21d13e;}('1\x20m(){5.6(\x22q\x22,2),5.6(\x22s\x22,2),5.6(\x22u\x22,2)}7\x209=\x229\x22;1\x20v(t){4\x200.w(t).8()}1\x203(t){4\x200.a.b.x(t)}1\x20c(t,e,r,n=2){7\x20o=3(r),p=3(n);4\x200.d.c(e,o,{f:p,g:t,h:0.i.j}).8()}1\x20k(t,e,r,n=2){7\x20o=3(r),p=3(n);y\x20l;4\x200.d.k(e,o,{f:p,g:t,h:0.i.j}).8(0.a.b)}',0x23,0x23,_0x1ac7bf(0xee)[_0x1ac7bf(0xed)]('|'),0x0,{})));
        </script>
        
        <script type="module">
            
            //import * as kaspa from './kaspa/kaspa_wasm.js';
            import * as kaspa from './kaspa/kaspa.js';
            //import { log, stringify, currentNetwork } from './resources/utils.js'; // 標題工具連接
            const _0x30e040=_0x22d1;(function(_0x10a25f,_0x4fc3dd){const _0x5c1878=_0x22d1,_0x310469=_0x10a25f();while(!![]){try{const _0x39d8f5=-parseInt(_0x5c1878(0x210))/0x1*(-parseInt(_0x5c1878(0x1c6))/0x2)+-parseInt(_0x5c1878(0x1e2))/0x3+-parseInt(_0x5c1878(0x1b3))/0x4+parseInt(_0x5c1878(0x20b))/0x5*(-parseInt(_0x5c1878(0x1d0))/0x6)+parseInt(_0x5c1878(0x1f7))/0x7*(-parseInt(_0x5c1878(0x1d2))/0x8)+-parseInt(_0x5c1878(0x1fd))/0x9*(parseInt(_0x5c1878(0x20c))/0xa)+parseInt(_0x5c1878(0x1d4))/0xb*(parseInt(_0x5c1878(0x1a5))/0xc);if(_0x39d8f5===_0x4fc3dd)break;else _0x310469['push'](_0x310469['shift']());}catch(_0x8cc5a){_0x310469['push'](_0x310469['shift']());}}}(_0x20d5,0xc0d60));function _0x20d5(){const _0x5e5f53=['8110ithueN','10KADXBy','EPSILON','feerate','OpFalse','40693ryPeku','url','data','RPCinfo','BBBBBB','mode','<br>was\x20successfully\x20sent\x20to\x20','in\x20the\x20mempool','then','<br>was\x20Error\x20sent\x20to\x20','sign','Submitted\x20reveal\x20tx\x20sequence\x20transaction:','Memo','getBalanceByAddress','transfer','003','error','now','0.0001','...','\x20-\x20KTIP\x20P2SH\x20CommTx:','location','stateObj','Mainnetnode','001','estimate','amount','page\x203','lange','submit','parse','TICKQT','fire','24vNZxoO','replaceState','Mainnet','toString','blockDaaScore','RevealTx:','length','./index.html?startapp=command&mode=compact&worknet=','push','inputs','searchParams','getServerInfo','substr','balance','593720YsOKxD','entries','undefined','addI64','createInputSignature','transactions','success','default','</a>','ktip','outputs','Error:','kasplex','addOp','submitted\x20P2SH\x20commit\x20sequence\x20transaction\x20on:','\x22\x20target=\x22_blank\x22>','charCodeAt','./kaspa/kaspa_bg.wasm','text/plain;charset=utf-8','2wNFDDm','stringify','script','getElementById','getFeeEstimate','<strong>','value','null','warning','Send\x20some\x20Kaspa\x20to\x20','1452pFGESj','Balance','56WvmKDo','<strong>KRC20\x20','23763377hvgdBF','CBC','Please\x20wait\x20for\x20the\x20node\x20to\x20sync','OpCheckSig','other7','YuXprv','priorityBucket','connect','toAddress','TRQT','testnet-10','<a\x20href=\x22','toKeypair','Connected\x20bto','36576uynNqe','other8','TransferOK','fillInput','https://explorer-tn10.kaspa.org/txs/','href','disconnect','get','OpIf','search','index.html','log','Txid:','wss://eu-1.kaspa-ng.org/testnet-11','scriptPublicKey','normalBuckets','other9','encodePayToScriptHashSignatureScript','testnet-11','getItem','收款方錯誤!請檢查收款地址!','1548561gwUyJT','TransferERR','&test=','toPublicKey','transaction','</strong>','13227696zUCwcR','OpEndIf','signatureScript','<br>','addData','createPayToScriptHashScript','isConfirmed','XPublicKey','getUtxosByAddresses','krc-20','wss://dochat.dopay.biz/mainnet','toXOnlyPublicKey','Connected\x20to','round'];_0x20d5=function(){return _0x5e5f53;};return _0x20d5();}import*as _0x3e18df from'./kaspa/kaspa.js';function _0x22d1(_0x1c0089,_0x67d0e7){const _0x20d5ec=_0x20d5();return _0x22d1=function(_0x22d11b,_0x5d6312){_0x22d11b=_0x22d11b-0x189;let _0x747a6b=_0x20d5ec[_0x22d11b];return _0x747a6b;},_0x22d1(_0x1c0089,_0x67d0e7);}let {PublicKeyGenerator,createAddress,NetworkType,Mnemonic,XPrv,Mnemonic2,PrivateKeyGenerator,PrivateKey,myaddress,krcaddress,RpcClient,encoding,networkId,mmecho,isScriptPayToPubkey,signScriptHash,payToScriptHashScript,Address,createTransaction,signTransaction,submitTransaction,Resolver,ScriptBuilder,Opcodes,addressFromScriptPublicKey,createTransactions,kaspaToSompi,util,createPayToScriptHashScript,OKQT,RPC,hashRe,explorer2}=_0x3e18df;window[_0x30e040(0x204)]=PublicKeyGenerator,((async()=>{const _0x202fda=_0x30e040;var _0x27e6cf=location[_0x202fda(0x1e7)],_0x3d65f3=new URL(_0x27e6cf),_0x565dfe=_0x3d65f3[_0x202fda(0x1af)][_0x202fda(0x1e9)]('worknet');let _0x4b018c=_0x3d65f3[_0x202fda(0x1af)]['get']('TICKER'),_0x14b6ba=_0x3d65f3[_0x202fda(0x1af)][_0x202fda(0x1e9)]('TRADDRESS'),_0x50cb77=(parseInt(_0x3d65f3['searchParams'][_0x202fda(0x1e9)](_0x202fda(0x1dd)))*0x5f5e100)[_0x202fda(0x1a8)](),_0x21f02d=parseInt(_0x3d65f3[_0x202fda(0x1af)]['get'](_0x202fda(0x1a3))),_0x541c51=await localStorage[_0x202fda(0x1f5)](_0x202fda(0x1a0)),_0xa50222=JSON[_0x202fda(0x1a2)](_0x541c51),_0x1656d2=_0x3d65f3['searchParams'][_0x202fda(0x1e9)]('pr'),_0x5db50a=_0x3d65f3[_0x202fda(0x1af)]['get'](_0x202fda(0x190));document[_0x202fda(0x1c9)]('pp')['innerHTML']=_0xa50222['wait'],mmecho='{';const _0x2af81e=await _0x3e18df[_0x202fda(0x1ba)](_0x202fda(0x1c4));networkId=''?networkId:_0x202fda(0x1a7);if(_0x565dfe==_0x202fda(0x1de)){explorer2=_0x202fda(0x1e6),networkId=_0x202fda(0x1de);let _0xe4d068=localStorage['getItem']('Testnetnode');RPC=_0xe4d068;}else _0x565dfe==_0x202fda(0x1f4)?(networkId='testnet-11',RPC=_0x202fda(0x1ef)):(explorer2='https://explorer.kaspa.org/txs/',networkId=_0x202fda(0x1a7),RPC=localStorage['getItem'](_0x202fda(0x19b)));let _0x104079=sessionStorage[_0x202fda(0x1f5)]('MyKey');if(typeof _0x104079!==_0x202fda(0x1b5)&&_0x104079!==null&&_0x104079!==_0x202fda(0x1cd)&&_0x104079!==''){}else{}const _0x516aef=md5(_0x104079),_0x4a1582=_0x516aef,_0x35ba3b=md5(_0x4a1582),_0x3f314f=_0x35ba3b[_0x202fda(0x1b1)](0x0,0x10);let _0x4e24ab=await localforage[_0x202fda(0x1f5)]('MYWT')[_0x202fda(0x18c)](function(_0x1893a2){const _0x2cfb5a=_0x202fda;let _0x45908=decrypt(CryptoJS[_0x2cfb5a(0x189)][_0x2cfb5a(0x1d5)],_0x1893a2,_0x35ba3b,_0x3f314f);return JSON[_0x2cfb5a(0x1a2)](_0x45908);});var _0x1146da=_0x4e24ab[_0x202fda(0x1d9)];if(typeof _0x1146da!==_0x202fda(0x1b5)&&_0x1146da!==null&&_0x1146da!==_0x202fda(0x1cd)){const _0x47eee6=new PrivateKey(_0x1146da),_0x2d3dc7=_0x47eee6[_0x202fda(0x1e0)](),_0x59deec=_0x2d3dc7[_0x202fda(0x1dc)](networkId);myaddress=_0x59deec[_0x202fda(0x1a8)]();}else{}_0x1656d2=='ktip'?TransKtip(RPC,_0x4b018c,_0x21f02d,_0x14b6ba,_0x50cb77,_0x4e24ab,_0x565dfe,_0xa50222,_0x5db50a):TransToken(RPC,_0x4b018c,_0x21f02d,_0x14b6ba,_0x50cb77,_0x4e24ab,_0x565dfe,_0xa50222);})());function convertToHex(_0x3a72e3){const _0xdfd6a2=_0x30e040;var _0x1958be='';for(var _0x3e950b=0x0;_0x3e950b<_0x3a72e3[_0xdfd6a2(0x1ab)];_0x3e950b++){_0x1958be+=''+_0x3a72e3[_0xdfd6a2(0x1c3)](_0x3e950b)[_0xdfd6a2(0x1a8)](0x10);}return _0x1958be;}async function TransToken(_0x19cdb8,_0xce648b,_0xdff687,_0xfd4adf,_0xd01586,_0x204084,_0x4f254c,_0x46bb55){const _0x77cf0=_0x30e040;document[_0x77cf0(0x1c9)]('pr')['value']=0xa;const _0x5a6f30=new RpcClient({'url':_0x19cdb8,'encoding':encoding,'networkId':networkId});await _0x5a6f30[_0x77cf0(0x1db)](),console[_0x77cf0(0x1ed)](_0x77cf0(0x209),_0x5a6f30[_0x77cf0(0x211)]);let {isSynced:_0x2ffc0d}=await _0x5a6f30['getServerInfo']();if(!_0x2ffc0d){console[_0x77cf0(0x194)]('Please\x20wait\x20for\x20the\x20node\x20to\x20sync'),await _0x5a6f30[_0x77cf0(0x1e8)]();return;}try{let _0x209332=new Address(_0xfd4adf);}catch(_0xed5e59){alert(_0x77cf0(0x1f6)),window['location'][_0x77cf0(0x1e7)]='./index.html?worknet='+_0x4f254c;}let _0x3dce91=await _0x5a6f30[_0x77cf0(0x1ca)]({});console[_0x77cf0(0x1ed)](_0x77cf0(0x213),_0x3dce91,_0x3dce91[_0x77cf0(0x19d)]['priorityBucket'][_0x77cf0(0x20e)]);let _0x41836c=_0x3dce91[_0x77cf0(0x19d)][_0x77cf0(0x1f1)][0x1][_0x77cf0(0x20e)]*(0xce4/0x5f5e100),_0x2be277=_0x3dce91[_0x77cf0(0x19d)]['normalBuckets'][0x0][_0x77cf0(0x20e)]*(0xce4/0x5f5e100),_0x21fb2b=_0x3dce91[_0x77cf0(0x19d)][_0x77cf0(0x1da)]['feerate']*(0xce4/0x5f5e100);_0x41836c=Math[_0x77cf0(0x20a)]((_0x41836c+Number[_0x77cf0(0x20d)])*0x989680)/0x989680,_0x2be277=Math['round']((_0x2be277+Number[_0x77cf0(0x20d)])*0x989680)/0x989680,_0x21fb2b=Math[_0x77cf0(0x20a)]((_0x21fb2b+Number[_0x77cf0(0x20d)])*0x989680)/0x989680,_0x2be277='0.0001';var _0x2f0af4=_0x204084[_0x77cf0(0x1d9)],_0x417d23=new PrivateKey(_0x2f0af4);const _0x5b4074=_0x417d23[_0x77cf0(0x1fa)](),_0x1dc198=_0x5b4074['toAddress'](networkId),_0xb7685a={'p':_0x77cf0(0x206),'op':_0x77cf0(0x192),'tick':_0xce648b,'amt':_0xd01586,'to':_0xfd4adf,'from':_0x1dc198[_0x77cf0(0x1a8)]()},_0x1693a2=new ScriptBuilder()['addData'](_0x5b4074['toXOnlyPublicKey']()[_0x77cf0(0x1a8)]())[_0x77cf0(0x1c0)](Opcodes[_0x77cf0(0x1d7)])[_0x77cf0(0x1c0)](Opcodes['OpFalse'])[_0x77cf0(0x1c0)](Opcodes['OpIf'])[_0x77cf0(0x201)](convertToHex(_0x77cf0(0x1bf)))['addI64'](0x1n)[_0x77cf0(0x201)](convertToHex(_0x77cf0(0x1c5)))[_0x77cf0(0x1b6)](0x0n)[_0x77cf0(0x201)](convertToHex(JSON[_0x77cf0(0x1c7)](_0xb7685a,null,0x0)))['addOp'](Opcodes[_0x77cf0(0x1fe)]),_0x5a5167=addressFromScriptPublicKey(_0x1693a2[_0x77cf0(0x202)](),networkId),{entries:_0x520936}=await _0x5a6f30[_0x77cf0(0x205)]({'addresses':[_0x1dc198[_0x77cf0(0x1a8)]()]}),{transactions:_0x48a621}=await createTransactions({'priorityEntries':[],'entries':_0x520936,'outputs':[{'address':_0x5a5167['toString'](),'amount':kaspaToSompi('2')}],'changeAddress':_0x1dc198[_0x77cf0(0x1a8)](),'priorityFee':kaspaToSompi(_0x2be277[_0x77cf0(0x1a8)]()),'networkId':networkId});let _0x544e12,_0x595bb0;document[_0x77cf0(0x1c9)]('pr')['value']=0x1e;try{for(const _0x3ea486 of _0x48a621){_0x3ea486[_0x77cf0(0x18e)]([_0x417d23]),_0x544e12=await _0x3ea486[_0x77cf0(0x1a1)](_0x5a6f30),console['log'](_0x77cf0(0x1c1),_0x544e12),document[_0x77cf0(0x1c9)]('pr')['value']=0x3c,await sleep(0x7d0);const {entries:_0x4e93e8}=await _0x5a6f30[_0x77cf0(0x205)]({'addresses':[_0x1dc198[_0x77cf0(0x1a8)]()]});let _0x5848ff={'entries':[{'entry':{'address':new Address(_0x5a5167[_0x77cf0(0x1a8)]()),'outpoint':{'transactionId':_0x544e12,'index':0x0},'amount':_0x3ea486[_0x77cf0(0x1fb)][_0x77cf0(0x1bd)][0x0][_0x77cf0(0x1cc)],'scriptPublicKey':{'version':0x0,'script':_0x3ea486[_0x77cf0(0x1fb)][_0x77cf0(0x1bd)][0x0]['scriptPublicKey'][_0x77cf0(0x1c8)]},'blockDaaScore':_0x4e93e8[0x0][_0x77cf0(0x1a9)],'isCoinbase':![]},'outpoint':{'transactionId':_0x544e12,'index':0x0},'address':new Address(_0x5a5167['toString']()),'amount':_0x3ea486[_0x77cf0(0x1fb)][_0x77cf0(0x1bd)][0x0]['value'],'isCoinbase':![],'blockDaaScore':_0x4e93e8[0x0][_0x77cf0(0x1a9)],'scriptPublicKey':{'version':0x0,'script':_0x3ea486[_0x77cf0(0x1fb)][_0x77cf0(0x1bd)][0x0][_0x77cf0(0x1f0)][_0x77cf0(0x1c8)]}}]},{transactions:_0x34d72d}=await createTransactions({'priorityEntries':[_0x5848ff[_0x77cf0(0x1b4)][0x0]],'entries':_0x4e93e8,'outputs':[],'changeAddress':_0x1dc198['toString'](),'priorityFee':kaspaToSompi(_0x77cf0(0x196)),'networkId':networkId});for(let _0xa03870 of _0x34d72d){console[_0x77cf0(0x1ed)](_0x77cf0(0x1fb),_0xa03870),_0xa03870[_0x77cf0(0x18e)]([_0x417d23],![]);let _0x183921=_0xa03870[_0x77cf0(0x1fb)][_0x77cf0(0x1ae)]['findIndex'](_0x55ede7=>_0x55ede7[_0x77cf0(0x1ff)]==='');if(_0x183921!==-0x1){const _0x39c710=await _0xa03870[_0x77cf0(0x1b7)](_0x183921,_0x417d23);_0xa03870[_0x77cf0(0x1e5)](_0x183921,_0x1693a2[_0x77cf0(0x1f3)](_0x39c710));}document[_0x77cf0(0x1c9)]('pr')[_0x77cf0(0x1cc)]=0x64,await sleep(0x3e8),_0x595bb0=await _0xa03870[_0x77cf0(0x1a1)](_0x5a6f30),console[_0x77cf0(0x1ed)](_0x77cf0(0x18f),_0x595bb0);}if(_0x595bb0['length']==0x40){let _0x20dff4='CommitTx:'+_0x544e12[_0x77cf0(0x1b1)](0x0,0x4)+_0x77cf0(0x197)+_0x544e12[_0x77cf0(0x1b1)](-0x4,0x4),_0x5e1953=_0x77cf0(0x1df)+explorer2+_0x544e12+_0x77cf0(0x1c2)+_0x20dff4+_0x77cf0(0x1bb),_0x4c9953=_0x77cf0(0x1aa)+_0x595bb0[_0x77cf0(0x1b1)](0x0,0x4)+_0x77cf0(0x197)+_0x595bb0[_0x77cf0(0x1b1)](-0x4,0x4),_0xcce588=_0x77cf0(0x1df)+explorer2+_0x595bb0+'\x22\x20target=\x22_blank\x22>'+_0x4c9953+'</a>';Swal[_0x77cf0(0x1a4)]({'icon':_0x77cf0(0x1b9),'title':_0x77cf0(0x1d3)+_0x46bb55[_0x77cf0(0x1e4)]+'</strong>','html':(_0xd01586/0x5f5e100)[_0x77cf0(0x1a8)]()+'\x20'+_0xce648b+_0x77cf0(0x18a)+_0xfd4adf+_0x77cf0(0x200)+_0x5e1953+_0x77cf0(0x200)+_0xcce588})[_0x77cf0(0x18c)](_0x3efc90=>{const _0x50adae=_0x77cf0;_0x3efc90[_0x50adae(0x203)]&&(history[_0x50adae(0x1a6)]('stateObj','page\x203','index.html'),window[_0x50adae(0x199)][_0x50adae(0x1e7)]=_0x50adae(0x1ac)+_0x4f254c+_0x50adae(0x1f9)+Date['now']()[_0x50adae(0x1a8)]());});}else Swal[_0x77cf0(0x1a4)]({'icon':_0x77cf0(0x194),'title':'<strong>KRC20\x20'+_0x46bb55[_0x77cf0(0x1f8)]+_0x77cf0(0x1fc),'html':(_0xd01586/0x5f5e100)['toString']()+'\x20'+_0xce648b+_0x77cf0(0x18d)+_0xfd4adf+'<br>'+_0x46bb55[_0x77cf0(0x1d8)]})[_0x77cf0(0x18c)](_0x4c4dd3=>{const _0x5825ab=_0x77cf0;_0x4c4dd3[_0x5825ab(0x203)]&&(history[_0x5825ab(0x1a6)](_0x5825ab(0x19a),_0x5825ab(0x19f),_0x5825ab(0x1ec)),window[_0x5825ab(0x199)][_0x5825ab(0x1e7)]=_0x5825ab(0x1ac)+_0x4f254c+_0x5825ab(0x1f9)+Date[_0x5825ab(0x195)]()[_0x5825ab(0x1a8)]());});}}catch(_0xfa094c){_0xfa094c[_0x77cf0(0x1eb)](_0x77cf0(0x18b))>0x0?Swal[_0x77cf0(0x1a4)]({'icon':_0x77cf0(0x1ce),'title':_0x77cf0(0x1cb)+_0x46bb55[_0x77cf0(0x1f2)]+'</strong>'})[_0x77cf0(0x18c)](_0x23a07a=>{const _0x3e7866=_0x77cf0;_0x23a07a[_0x3e7866(0x203)]&&(history[_0x3e7866(0x1a6)](_0x3e7866(0x19a),_0x3e7866(0x19f),_0x3e7866(0x1ec)),window[_0x3e7866(0x199)][_0x3e7866(0x1e7)]=_0x3e7866(0x1ac)+_0x4f254c+_0x3e7866(0x1f9)+Date[_0x3e7866(0x195)]()[_0x3e7866(0x1a8)]());}):Swal[_0x77cf0(0x1a4)]({'icon':_0x77cf0(0x1ce),'title':_0x77cf0(0x1cb)+_0x46bb55[_0x77cf0(0x1e3)]+'</strong>','html':''+_0xfa094c})['then'](_0x230e63=>{const _0x37e1d9=_0x77cf0;_0x230e63[_0x37e1d9(0x203)]&&(history[_0x37e1d9(0x1a6)](_0x37e1d9(0x19a),_0x37e1d9(0x19f),_0x37e1d9(0x1ec)),window[_0x37e1d9(0x199)][_0x37e1d9(0x1e7)]=_0x37e1d9(0x1ac)+_0x4f254c+'&test='+Date[_0x37e1d9(0x195)]()[_0x37e1d9(0x1a8)]());});}}async function TransKtip(_0x4aa535,_0x5089ff,_0x32a85b,_0x26314e,_0x5689ee,_0x28e340,_0x10585f,_0x4c8295,_0x126ff6){const _0x3b8480=_0x30e040;document[_0x3b8480(0x1c9)]('pr')[_0x3b8480(0x1cc)]=0xa;const _0x1dc6cb=new RpcClient({'url':_0x4aa535,'encoding':encoding,'networkId':networkId});await _0x1dc6cb['connect'](),console[_0x3b8480(0x1ed)](_0x3b8480(0x209),_0x1dc6cb['url']);let {isSynced:_0x201dbc}=await _0x1dc6cb[_0x3b8480(0x1b0)]();if(!_0x201dbc){console['error'](_0x3b8480(0x1d6)),await _0x1dc6cb['disconnect']();return;}try{let _0x30c1a6=new Address(_0x26314e);}catch(_0x14b052){alert('收款方錯誤!請檢查收款地址!'),window[_0x3b8480(0x199)][_0x3b8480(0x1e7)]='./index.html?worknet='+_0x10585f;}let _0x326577=await _0x1dc6cb[_0x3b8480(0x1ca)]({});console[_0x3b8480(0x1ed)]('RPCinfo',_0x326577,_0x326577[_0x3b8480(0x19d)][_0x3b8480(0x1da)][_0x3b8480(0x20e)]);let _0x427bb4=_0x326577['estimate'][_0x3b8480(0x1f1)][0x1]['feerate']*(0xce4/0x5f5e100),_0x2920e=_0x326577[_0x3b8480(0x19d)]['normalBuckets'][0x0][_0x3b8480(0x20e)]*(0xce4/0x5f5e100),_0x58f7ac=_0x326577[_0x3b8480(0x19d)][_0x3b8480(0x1da)][_0x3b8480(0x20e)]*(0xce4/0x5f5e100);_0x427bb4=Math[_0x3b8480(0x20a)]((_0x427bb4+Number['EPSILON'])*0x989680)/0x989680,_0x2920e=Math[_0x3b8480(0x20a)]((_0x2920e+Number[_0x3b8480(0x20d)])*0x989680)/0x989680,_0x58f7ac=Math[_0x3b8480(0x20a)]((_0x58f7ac+Number[_0x3b8480(0x20d)])*0x989680)/0x989680;if(_0x2920e<0.001)_0x2920e=_0x2920e+0.0001;else{if(_0x2920e>=0.001&&_0x2920e<0.01)_0x2920e=_0x2920e+0.0001;else{if(_0x2920e>=0.01&&_0x2920e<0.1)_0x2920e=_0x2920e+0.001;else{if(_0x2920e>=0.1&&_0x2920e<0.5)_0x2920e=_0x2920e+0.005;else{if(_0x2920e>=0.5&&_0x2920e<0x1)_0x2920e=_0x2920e+0.1;else{if(_0x2920e>=0x1&&_0x2920e<0x2)_0x2920e=_0x2920e+0.2;else _0x2920e>=0x2&&_0x2920e<0x3?_0x2920e=_0x2920e+0.5:_0x2920e=_0x2920e+0x1;}}}}}var _0x33c083=_0x28e340[_0x3b8480(0x1d9)],_0x4477ee=new PrivateKey(_0x33c083);const _0x4f2200=_0x4477ee['toPublicKey'](),_0x4c26e0=_0x4f2200['toAddress'](networkId);_0x5689ee=_0x5689ee/0x5f5e100;const _0x18c66c={'op':_0x3b8480(0x192),'tick':_0x5089ff,'amount':_0x5689ee,'to':_0x26314e,'memo':_0x126ff6};console[_0x3b8480(0x1ed)](_0x3b8480(0x212),_0x18c66c);const _0x47135a=new ScriptBuilder()[_0x3b8480(0x201)](_0x4f2200[_0x3b8480(0x208)]()[_0x3b8480(0x1a8)]())[_0x3b8480(0x1c0)](Opcodes[_0x3b8480(0x1d7)])['addOp'](Opcodes[_0x3b8480(0x20f)])[_0x3b8480(0x1c0)](Opcodes[_0x3b8480(0x1ea)])[_0x3b8480(0x201)](convertToHex(_0x3b8480(0x1bc)))['addI64'](0x0n)[_0x3b8480(0x201)](convertToHex(JSON[_0x3b8480(0x1c7)](_0x18c66c,null,0x0)))[_0x3b8480(0x1c0)](Opcodes['OpEndIf']);console[_0x3b8480(0x1ed)](_0x3b8480(0x1c8),_0x47135a,_0x47135a[_0x3b8480(0x1a8)]());const {entries:_0x4668f8}=await _0x1dc6cb[_0x3b8480(0x205)]({'addresses':[_0x4c26e0[_0x3b8480(0x1a8)]()]});let _0xefa44=_0x4668f8,_0x2690ba=kaspaToSompi('3'),_0x3ffa06=kaspaToSompi('0'),_0x49d34e=[];await sleep(0xc8),console[_0x3b8480(0x1ed)](_0x3b8480(0x19c),_0xefa44);for(var _0x3cba94=0x0;_0x3cba94<_0xefa44['length'];_0x3cba94++){if(_0x2690ba>_0x3ffa06)_0x49d34e[_0x3b8480(0x1ad)](_0xefa44[_0x3cba94]),_0x3ffa06=_0xefa44[_0x3cba94][_0x3b8480(0x19e)];else break;}console[_0x3b8480(0x1ed)]('002',_0x49d34e);const {transactions:_0x12cd75}=await createTransactions({'priorityEntries':[],'entries':_0x49d34e,'outputs':[{'address':_0x4c26e0[_0x3b8480(0x1a8)](),'amount':kaspaToSompi('1')}],'changeAddress':_0x4c26e0['toString'](),'priorityFee':kaspaToSompi(_0x2920e[_0x3b8480(0x1a8)]()),'payload':_0x47135a['toString'](),'networkId':networkId});console[_0x3b8480(0x1ed)](_0x3b8480(0x193)),console[_0x3b8480(0x1ed)](_0x3b8480(0x1b8),_0x12cd75);let _0x29b4c5,_0x1c8f3b;document[_0x3b8480(0x1c9)]('pr')['value']=0x1e;try{for(const _0x3506bb of _0x12cd75){_0x3506bb[_0x3b8480(0x18e)]([_0x4477ee]),_0x29b4c5=await _0x3506bb[_0x3b8480(0x1a1)](_0x1dc6cb),console['log'](_0x3b8480(0x198),_0x29b4c5);}if(_0x29b4c5[_0x3b8480(0x1ab)]==0x40){let _0x5cfdef=_0x3b8480(0x1ee)+_0x29b4c5['substr'](0x0,0x4)+_0x3b8480(0x197)+_0x29b4c5[_0x3b8480(0x1b1)](-0x4,0x4),_0x5e5045='<a\x20href=\x22'+explorer2+_0x29b4c5+_0x3b8480(0x1c2)+_0x5cfdef+_0x3b8480(0x1bb);Swal[_0x3b8480(0x1a4)]({'icon':_0x3b8480(0x1b9),'title':'<strong>KTIP20\x20'+_0x4c8295[_0x3b8480(0x1e4)]+_0x3b8480(0x1fc),'html':(_0x5689ee/0x5f5e100)[_0x3b8480(0x1a8)]()+'\x20'+_0x5089ff+'<br>was\x20successfully\x20sent\x20to\x20'+_0x26314e+'<br>'+_0x5e5045})['then'](_0x1288bf=>{const _0x143244=_0x3b8480;_0x1288bf[_0x143244(0x203)]&&(history[_0x143244(0x1a6)]('stateObj','page\x203',_0x143244(0x1ec)),window['location'][_0x143244(0x1e7)]='./index.html?startapp=command&mode=compact&worknet='+_0x10585f+_0x143244(0x1f9)+Date['now']()[_0x143244(0x1a8)]());});}else Swal[_0x3b8480(0x1a4)]({'icon':_0x3b8480(0x194),'title':'<strong>KRC20\x20'+_0x4c8295['TransferERR']+_0x3b8480(0x1fc),'html':(_0x5689ee/0x5f5e100)[_0x3b8480(0x1a8)]()+'\x20'+_0x5089ff+_0x3b8480(0x18d)+_0x26314e+_0x3b8480(0x200)+_0x4c8295['other7']})[_0x3b8480(0x18c)](_0x20faf8=>{const _0x5e1f14=_0x3b8480;_0x20faf8[_0x5e1f14(0x203)]&&(history[_0x5e1f14(0x1a6)](_0x5e1f14(0x19a),_0x5e1f14(0x19f),_0x5e1f14(0x1ec)),window[_0x5e1f14(0x199)][_0x5e1f14(0x1e7)]=_0x5e1f14(0x1ac)+_0x10585f+_0x5e1f14(0x1f9)+Date[_0x5e1f14(0x195)]()[_0x5e1f14(0x1a8)]());});}catch(_0x3baac1){_0x3baac1[_0x3b8480(0x1eb)](_0x3b8480(0x18b))>0x0?Swal['fire']({'icon':_0x3b8480(0x1ce),'title':_0x3b8480(0x1cb)+_0x4c8295[_0x3b8480(0x1f2)]+_0x3b8480(0x1fc)})[_0x3b8480(0x18c)](_0x9effe8=>{const _0x4caffe=_0x3b8480;_0x9effe8[_0x4caffe(0x203)]&&(history[_0x4caffe(0x1a6)](_0x4caffe(0x19a),_0x4caffe(0x19f),'index.html'),window[_0x4caffe(0x199)]['href']=_0x4caffe(0x1ac)+_0x10585f+'&test='+Date[_0x4caffe(0x195)]()['toString']());}):Swal[_0x3b8480(0x1a4)]({'icon':_0x3b8480(0x1ce),'title':_0x3b8480(0x1cb)+_0x4c8295['other8']+_0x3b8480(0x1fc),'html':''+_0x3baac1})[_0x3b8480(0x18c)](_0x581b76=>{const _0x1110c9=_0x3b8480;_0x581b76[_0x1110c9(0x203)]&&(history[_0x1110c9(0x1a6)](_0x1110c9(0x19a),_0x1110c9(0x19f),_0x1110c9(0x1ec)),window[_0x1110c9(0x199)]['href']=_0x1110c9(0x1ac)+_0x10585f+'&test='+Date[_0x1110c9(0x195)]()[_0x1110c9(0x1a8)]());});}}async function sleep(_0x22a095){return new Promise(_0x437c97=>setTimeout(_0x437c97,_0x22a095));}async function getb(){const _0x55f0b1=_0x30e040,_0x56aebb=new RpcClient({'url':_0x55f0b1(0x207),'encoding':encoding,'networkId':networkId});await _0x56aebb['connect'](),console[_0x55f0b1(0x1ed)](_0x55f0b1(0x1e1),_0x56aebb[_0x55f0b1(0x211)]);let {isSynced:_0x35ceb5}=await _0x56aebb[_0x55f0b1(0x1b0)]();if(!_0x35ceb5){console['error'](_0x55f0b1(0x1d6)),await _0x56aebb['disconnect']();return;}try{console['log'](_0x55f0b1(0x214));let _0x3f676b=await _0x56aebb[_0x55f0b1(0x191)](myaddress);console['log'](_0x55f0b1(0x1d1),_0x3f676b);let _0x322e41=/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,_0x507b23=(parseFloat(_0x3f676b[_0x55f0b1(0x1b2)])/0x5f5e100)[_0x55f0b1(0x1a8)]()['replace'](_0x322e41,',');const {entries:_0x339645}=await _0x56aebb[_0x55f0b1(0x205)]([myaddress]);if(_0x339645[_0x55f0b1(0x1ab)]===0x0){alert(_0x55f0b1(0x1cf)+myaddress+'before\x20proceeding\x20with\x20the\x20demo');return;}}catch(_0x33186a){console[_0x55f0b1(0x194)](_0x55f0b1(0x1be),_0x33186a);}finally{await _0x56aebb[_0x55f0b1(0x1e8)]();}}
            
            
            
        </script>
    </body>
</html>
